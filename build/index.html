
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Scrypted API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;typescript&quot;,&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
      <center><div style="color: white;">Scrypted Documentation</div></center>
        <div class="lang-selector">
              <a href="#" data-language-name="typescript">typescript</a>
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#getting-started" class="toc-h1 toc-link" data-title="Getting Started ">Getting Started <br></a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#creating-a-script" class="toc-h2 toc-link" data-title="Creating a Script">Creating a Script</a>
                  </li>
                  <li>
                    <a href="#creating-a-device-script" class="toc-h2 toc-link" data-title="Creating a Device Script">Creating a Device Script</a>
                  </li>
                  <li>
                    <a href="#using-npm-and-vs-code" class="toc-h2 toc-link" data-title="Using npm and VS Code">Using npm and VS Code</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#core-concepts" class="toc-h1 toc-link" data-title="Core Concepts">Core Concepts</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#interfaces" class="toc-h2 toc-link" data-title="Interfaces">Interfaces</a>
                  </li>
                  <li>
                    <a href="#events" class="toc-h2 toc-link" data-title="Events">Events</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#sdk-scrypted-sdk" class="toc-h1 toc-link" data-title="SDK: @scrypted/sdk">SDK: @scrypted/sdk</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#sdk-log" class="toc-h2 toc-link" data-title="sdk.log">sdk.log</a>
                  </li>
                  <li>
                    <a href="#sdk-systemmanager" class="toc-h2 toc-link" data-title="sdk.systemManager">sdk.systemManager</a>
                  </li>
                  <li>
                    <a href="#sdk-devicemanager" class="toc-h2 toc-link" data-title="sdk.deviceManager">sdk.deviceManager</a>
                  </li>
                  <li>
                    <a href="#sdk-mediamanager" class="toc-h2 toc-link" data-title="sdk.mediaManager">sdk.mediaManager</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#core-reference" class="toc-h1 toc-link" data-title="Core Reference">Core Reference</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#scrypteddevice" class="toc-h2 toc-link" data-title="ScryptedDevice">ScryptedDevice</a>
                  </li>
                  <li>
                    <a href="#systemmanager" class="toc-h2 toc-link" data-title="SystemManager">SystemManager</a>
                  </li>
                  <li>
                    <a href="#scrypteddevicetype" class="toc-h2 toc-link" data-title="ScryptedDeviceType">ScryptedDeviceType</a>
                  </li>
                  <li>
                    <a href="#eventlistener" class="toc-h2 toc-link" data-title="EventListener">EventListener</a>
                  </li>
                  <li>
                    <a href="#eventlistenerregister" class="toc-h2 toc-link" data-title="EventListenerRegister">EventListenerRegister</a>
                  </li>
                  <li>
                    <a href="#systemdevicestate" class="toc-h2 toc-link" data-title="SystemDeviceState">SystemDeviceState</a>
                  </li>
                  <li>
                    <a href="#logger" class="toc-h2 toc-link" data-title="Logger">Logger</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#device-provider-reference" class="toc-h1 toc-link" data-title="Device Provider Reference">Device Provider Reference</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#devicemanager" class="toc-h2 toc-link" data-title="DeviceManager">DeviceManager</a>
                  </li>
                  <li>
                    <a href="#deviceprovider" class="toc-h2 toc-link" data-title="DeviceProvider">DeviceProvider</a>
                  </li>
                  <li>
                    <a href="#devicemanifest" class="toc-h2 toc-link" data-title="DeviceManifest">DeviceManifest</a>
                  </li>
                  <li>
                    <a href="#device" class="toc-h2 toc-link" data-title="Device">Device</a>
                  </li>
                  <li>
                    <a href="#refresh" class="toc-h2 toc-link" data-title="Refresh">Refresh</a>
                  </li>
                  <li>
                    <a href="#devicestate" class="toc-h2 toc-link" data-title="DeviceState">DeviceState</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#media-reference" class="toc-h1 toc-link" data-title="Media Reference">Media Reference</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#mediamanager" class="toc-h2 toc-link" data-title="MediaManager">MediaManager</a>
                  </li>
                  <li>
                    <a href="#mediaobject" class="toc-h2 toc-link" data-title="MediaObject">MediaObject</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#webhook-and-push-reference" class="toc-h1 toc-link" data-title="Webhook and Push Reference">Webhook and Push Reference</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#endpointmanager" class="toc-h2 toc-link" data-title="EndpointManager">EndpointManager</a>
                  </li>
                  <li>
                    <a href="#httprequesthandler" class="toc-h2 toc-link" data-title="HttpRequestHandler">HttpRequestHandler</a>
                  </li>
                  <li>
                    <a href="#pushhandler" class="toc-h2 toc-link" data-title="PushHandler">PushHandler</a>
                  </li>
                  <li>
                    <a href="#httprequest" class="toc-h2 toc-link" data-title="HttpRequest">HttpRequest</a>
                  </li>
                  <li>
                    <a href="#httpresponse" class="toc-h2 toc-link" data-title="HttpResponse">HttpResponse</a>
                  </li>
                  <li>
                    <a href="#httpresponseoptions" class="toc-h2 toc-link" data-title="HttpResponseOptions">HttpResponseOptions</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#android-intent-reference" class="toc-h1 toc-link" data-title="Android Intent Reference">Android Intent Reference</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#android" class="toc-h2 toc-link" data-title="Android">Android</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#device-interface-reference" class="toc-h1 toc-link" data-title="Device Interface Reference">Device Interface Reference</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#eventlisteneroptions" class="toc-h2 toc-link" data-title="EventListenerOptions">EventListenerOptions</a>
                  </li>
                  <li>
                    <a href="#eventdetails" class="toc-h2 toc-link" data-title="EventDetails">EventDetails</a>
                  </li>
                  <li>
                    <a href="#onoff" class="toc-h2 toc-link" data-title="OnOff">OnOff</a>
                  </li>
                  <li>
                    <a href="#brightness" class="toc-h2 toc-link" data-title="Brightness">Brightness</a>
                  </li>
                  <li>
                    <a href="#colorsettingtemperature" class="toc-h2 toc-link" data-title="ColorSettingTemperature">ColorSettingTemperature</a>
                  </li>
                  <li>
                    <a href="#colorsettingrgb" class="toc-h2 toc-link" data-title="ColorSettingRgb">ColorSettingRgb</a>
                  </li>
                  <li>
                    <a href="#colorrgb" class="toc-h2 toc-link" data-title="ColorRgb">ColorRgb</a>
                  </li>
                  <li>
                    <a href="#colorsettinghsv" class="toc-h2 toc-link" data-title="ColorSettingHsv">ColorSettingHsv</a>
                  </li>
                  <li>
                    <a href="#colorhsv" class="toc-h2 toc-link" data-title="ColorHsv">ColorHsv</a>
                  </li>
                  <li>
                    <a href="#notifier" class="toc-h2 toc-link" data-title="Notifier">Notifier</a>
                  </li>
                  <li>
                    <a href="#startstop" class="toc-h2 toc-link" data-title="StartStop">StartStop</a>
                  </li>
                  <li>
                    <a href="#pause" class="toc-h2 toc-link" data-title="Pause">Pause</a>
                  </li>
                  <li>
                    <a href="#dock" class="toc-h2 toc-link" data-title="Dock">Dock</a>
                  </li>
                  <li>
                    <a href="#temperaturesetting" class="toc-h2 toc-link" data-title="TemperatureSetting">TemperatureSetting</a>
                  </li>
                  <li>
                    <a href="#thermometer" class="toc-h2 toc-link" data-title="Thermometer">Thermometer</a>
                  </li>
                  <li>
                    <a href="#temperatureunit" class="toc-h2 toc-link" data-title="TemperatureUnit">TemperatureUnit</a>
                  </li>
                  <li>
                    <a href="#humiditysensor" class="toc-h2 toc-link" data-title="HumiditySensor">HumiditySensor</a>
                  </li>
                  <li>
                    <a href="#thermostatmode" class="toc-h2 toc-link" data-title="ThermostatMode">ThermostatMode</a>
                  </li>
                  <li>
                    <a href="#camera" class="toc-h2 toc-link" data-title="Camera">Camera</a>
                  </li>
                  <li>
                    <a href="#videocamera" class="toc-h2 toc-link" data-title="VideoCamera">VideoCamera</a>
                  </li>
                  <li>
                    <a href="#lock" class="toc-h2 toc-link" data-title="Lock">Lock</a>
                  </li>
                  <li>
                    <a href="#lockstate" class="toc-h2 toc-link" data-title="LockState">LockState</a>
                  </li>
                  <li>
                    <a href="#passwordstore" class="toc-h2 toc-link" data-title="PasswordStore">PasswordStore</a>
                  </li>
                  <li>
                    <a href="#authenticator" class="toc-h2 toc-link" data-title="Authenticator">Authenticator</a>
                  </li>
                  <li>
                    <a href="#scene" class="toc-h2 toc-link" data-title="Scene">Scene</a>
                  </li>
                  <li>
                    <a href="#entry" class="toc-h2 toc-link" data-title="Entry">Entry</a>
                  </li>
                  <li>
                    <a href="#entrysensor" class="toc-h2 toc-link" data-title="EntrySensor">EntrySensor</a>
                  </li>
                  <li>
                    <a href="#battery" class="toc-h2 toc-link" data-title="Battery">Battery</a>
                  </li>
                  <li>
                    <a href="#mediaplayer" class="toc-h2 toc-link" data-title="MediaPlayer">MediaPlayer</a>
                  </li>
                  <li>
                    <a href="#mediaplayeroptions" class="toc-h2 toc-link" data-title="MediaPlayerOptions">MediaPlayerOptions</a>
                  </li>
                  <li>
                    <a href="#online" class="toc-h2 toc-link" data-title="Online">Online</a>
                  </li>
                  <li>
                    <a href="#program" class="toc-h2 toc-link" data-title="Program">Program</a>
                  </li>
                  <li>
                    <a href="#softwareupdate" class="toc-h2 toc-link" data-title="SoftwareUpdate">SoftwareUpdate</a>
                  </li>
                  <li>
                    <a href="#bufferconverter" class="toc-h2 toc-link" data-title="BufferConverter">BufferConverter</a>
                  </li>
                  <li>
                    <a href="#settings" class="toc-h2 toc-link" data-title="Settings">Settings</a>
                  </li>
                  <li>
                    <a href="#binarysensor" class="toc-h2 toc-link" data-title="BinarySensor">BinarySensor</a>
                  </li>
                  <li>
                    <a href="#intrusionsensor" class="toc-h2 toc-link" data-title="IntrusionSensor">IntrusionSensor</a>
                  </li>
                  <li>
                    <a href="#powersensor" class="toc-h2 toc-link" data-title="PowerSensor">PowerSensor</a>
                  </li>
                  <li>
                    <a href="#audiosensor" class="toc-h2 toc-link" data-title="AudioSensor">AudioSensor</a>
                  </li>
                  <li>
                    <a href="#motionsensor" class="toc-h2 toc-link" data-title="MotionSensor">MotionSensor</a>
                  </li>
                  <li>
                    <a href="#occupancysensor" class="toc-h2 toc-link" data-title="OccupancySensor">OccupancySensor</a>
                  </li>
                  <li>
                    <a href="#floodsensor" class="toc-h2 toc-link" data-title="FloodSensor">FloodSensor</a>
                  </li>
                  <li>
                    <a href="#ultravioletsensor" class="toc-h2 toc-link" data-title="UltravioletSensor">UltravioletSensor</a>
                  </li>
                  <li>
                    <a href="#luminancesensor" class="toc-h2 toc-link" data-title="LuminanceSensor">LuminanceSensor</a>
                  </li>
                  <li>
                    <a href="#positionsensor" class="toc-h2 toc-link" data-title="PositionSensor">PositionSensor</a>
                  </li>
                  <li>
                    <a href="#position" class="toc-h2 toc-link" data-title="Position">Position</a>
                  </li>
                  <li>
                    <a href="#mediasource" class="toc-h2 toc-link" data-title="MediaSource">MediaSource</a>
                  </li>
                  <li>
                    <a href="#messagingendpoint" class="toc-h2 toc-link" data-title="MessagingEndpoint">MessagingEndpoint</a>
                  </li>
                  <li>
                    <a href="#oauthclient" class="toc-h2 toc-link" data-title="OauthClient">OauthClient</a>
                  </li>
                  <li>
                    <a href="#ffmpeginput" class="toc-h2 toc-link" data-title="FFMpegInput">FFMpegInput</a>
                  </li>
                  <li>
                    <a href="#mixinprovider" class="toc-h2 toc-link" data-title="MixinProvider">MixinProvider</a>
                  </li>
                  <li>
                    <a href="#engineiohandler" class="toc-h2 toc-link" data-title="EngineIOHandler">EngineIOHandler</a>
                  </li>
                  <li>
                    <a href="#mediastatus" class="toc-h2 toc-link" data-title="MediaStatus">MediaStatus</a>
                  </li>
                  <li>
                    <a href="#mediaplayerstate" class="toc-h2 toc-link" data-title="MediaPlayerState">MediaPlayerState</a>
                  </li>
                  <li>
                    <a href="#setting" class="toc-h2 toc-link" data-title="Setting">Setting</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#sample-plugins" class="toc-h1 toc-link" data-title="Sample Plugins ">Sample Plugins <br></a>
          </li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='getting-started'>Getting Started <br/></h1><h2 id='creating-a-script'>Creating a Script</h2>
<blockquote>
<p>Toggle a light</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="k">if</span> <span class="p">(</span><span class="nx">light</span><span class="p">.</span><span class="nx">on</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">light</span><span class="p">.</span><span class="nx">turnOff</span><span class="p">();</span>
<span class="p">}</span>
<span class="k">else</span> <span class="p">{</span>
    <span class="nx">light</span><span class="p">.</span><span class="nx">turnOn</span><span class="p">();</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="k">if</span> <span class="p">(</span><span class="nx">light</span><span class="p">.</span><span class="nx">on</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">light</span><span class="p">.</span><span class="nx">turnOff</span><span class="p">();</span>
<span class="p">}</span>
<span class="k">else</span> <span class="p">{</span>
    <span class="nx">light</span><span class="p">.</span><span class="nx">turnOn</span><span class="p">();</span>
<span class="p">}</span>
</code></pre>
<p>Scripts are JavaScript programs that run on Scrypted to extend the capabilities of your home automation setup.</p>

<p>A common scenario would be to write a script that controls your devices.
This script, for example, will toggle a light.</p>

<ol>
<li>Create a new Script under Plugins.</li>
<li>Set the type to Library.</li>
<li>Assign a device that supports OnOff to a variable &quot;light&quot;.</li>
<li>Paste the code into the script text box.</li>
<li>Run the example code using the &quot;Test&quot; button.</li>
</ol>

<aside class="notice">
Scripts can be published as plugins which are distributed, installed, and updated through the
Scrypted Management console.
If you have a script that you want to share, you would publish it through npm, and it would be available for anyone
to use as a plugin.
</aside>
<h2 id='creating-a-device-script'>Creating a Device Script</h2>
<blockquote>
<p>Create a new light</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="nx">log</span><span class="p">.</span><span class="nx">i</span><span class="p">(</span><span class="s1">'Hello World. This will create a virtual OnOff device.'</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">Device</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// The state of the device is persisted by Scrypted. Restore the last known state.</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">_state</span> <span class="o">=</span> <span class="nx">deviceManager</span><span class="p">.</span><span class="nx">getDeviceState</span><span class="p">();</span>
    <span class="c1">// Ensure the light state is not null.</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">_state</span><span class="p">.</span><span class="nx">on</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_state</span><span class="p">.</span><span class="nx">on</span> <span class="o">||</span> <span class="kc">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">Device</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">turnOff</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">log</span><span class="p">.</span><span class="nx">i</span><span class="p">(</span><span class="s1">'turnOff was called!'</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">_state</span><span class="p">.</span><span class="nx">on</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">Device</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">turnOn</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">log</span><span class="p">.</span><span class="nx">i</span><span class="p">(</span><span class="s1">'turnOn was called!'</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">_state</span><span class="p">.</span><span class="nx">on</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">exports</span><span class="p">.</span><span class="k">default</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Device</span><span class="p">();</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">log</span><span class="p">.</span><span class="nx">i</span><span class="p">(</span><span class="s1">'Hello World. This will create a virtual OnOff device.'</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">Device</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// The state of the device is persisted by Scrypted. Restore the last known state.</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">_state</span> <span class="o">=</span> <span class="nx">deviceManager</span><span class="p">.</span><span class="nx">getDeviceState</span><span class="p">();</span>
    <span class="c1">// Ensure the light state is not null.</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">_state</span><span class="p">.</span><span class="nx">on</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_state</span><span class="p">.</span><span class="nx">on</span> <span class="o">||</span> <span class="kc">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">Device</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">turnOff</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">log</span><span class="p">.</span><span class="nx">i</span><span class="p">(</span><span class="s1">'turnOff was called!'</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">_state</span><span class="p">.</span><span class="nx">on</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">Device</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">turnOn</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">log</span><span class="p">.</span><span class="nx">i</span><span class="p">(</span><span class="s1">'turnOn was called!'</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">_state</span><span class="p">.</span><span class="nx">on</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">exports</span><span class="p">.</span><span class="k">default</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Device</span><span class="p">();</span>
</code></pre>
<p>Scripts can add support for new devices, like a wifi lightbulb. These devices will then
be synced to upstream integration providers like Google Home or Apple Homekit.</p>

<p>This sample creates a simple OnOff device that outputs on and off clicks to the log.</p>

<ol>
<li>Create a new Script under Plugins.</li>
<li>Set the type to Device.</li>
<li>Select the OnOff interface.</li>
<li>Paste the code into the script text box.</li>
<li>Save.</li>
</ol>

<p>Watch the Logs for the new light, and turn the light on and off using the button on the webpage.</p>
<h2 id='using-npm-and-vs-code'>Using npm and VS Code</h2>
<blockquote>
<p>src/main</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="c1">// https://developer.scrypted.app/#getting-started</span>
<span class="k">import</span> <span class="nx">axios</span> <span class="k">from</span> <span class="s1">'axios'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">OnOff</span><span class="p">,</span> <span class="nx">ScryptedDeviceBase</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'@scrypted/sdk'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">sdk</span> <span class="k">from</span> <span class="s1">'@scrypted/sdk'</span><span class="p">;</span>
<span class="kd">const</span> <span class="p">{</span> <span class="nx">log</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">sdk</span><span class="p">;</span>

<span class="nx">log</span><span class="p">.</span><span class="nx">i</span><span class="p">(</span><span class="s1">'Hello World. This will create a virtual OnOff device.'</span><span class="p">);</span>

<span class="kr">class</span> <span class="nx">ExampleDevice</span> <span class="k">extends</span> <span class="nx">ScryptedDeviceBase</span> <span class="k">implements</span> <span class="nx">OnOff</span> <span class="p">{</span>
    <span class="kd">constructor</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="p">();</span>
        <span class="c1">// Ensure the light state is not null.</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">on</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">on</span> <span class="o">||</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nx">turnOff</span><span class="p">():</span> <span class="k">void</span> <span class="p">{</span>
        <span class="nx">log</span><span class="p">.</span><span class="nx">i</span><span class="p">(</span><span class="s1">'turnOff was called!'</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">on</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">async</span> <span class="nx">turnOn</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// set a breakpoint here.</span>
        <span class="nx">log</span><span class="p">.</span><span class="nx">i</span><span class="p">(</span><span class="s1">'turnOn was called!'</span><span class="p">);</span>

        <span class="nx">log</span><span class="p">.</span><span class="nx">i</span><span class="p">(</span><span class="s2">"Let's pretend to perform a web request on an API that would turn on a light."</span><span class="p">);</span>
        <span class="kd">const</span> <span class="nx">ip</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">axios</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'http://jsonip.com'</span><span class="p">);</span>
        <span class="nx">log</span><span class="p">.</span><span class="nx">i</span><span class="p">(</span><span class="s2">`my ip: </span><span class="p">${</span><span class="nx">ip</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">ip</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>

        <span class="k">this</span><span class="p">.</span><span class="nx">on</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="k">new</span> <span class="nx">ExampleDevice</span><span class="p">();</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">import</span> <span class="p">{</span> <span class="nx">ScryptedDeviceBase</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'@scrypted/sdk'</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">sdk</span> <span class="nx">from</span> <span class="s1">'@scrypted/sdk'</span><span class="p">;</span>
<span class="kr">const</span> <span class="p">{</span> <span class="nx">log</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">sdk</span><span class="p">;</span>
<span class="nx">log</span><span class="p">.</span><span class="nx">i</span><span class="p">(</span><span class="s1">'Hello World. This will create a virtual OnOff device.'</span><span class="p">);</span>
<span class="kr">class</span> <span class="nx">ExampleDevice</span> <span class="kr">extends</span> <span class="nx">ScryptedDeviceBase</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
        <span class="kr">super</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">async</span> <span class="o">=</span> <span class="nx">turnOn</span><span class="p">();</span>
        <span class="c1">// Ensure the light state is not null.</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">on</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">on</span> <span class="o">||</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nx">turnOff</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">log</span><span class="p">.</span><span class="nx">i</span><span class="p">(</span><span class="s1">'turnOff was called!'</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">on</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="p">{</span>
    <span class="c1">// set a breakpoint here.</span>
    <span class="nx">log</span><span class="p">.</span><span class="nx">i</span><span class="p">(</span><span class="s1">'turnOn was called!'</span><span class="p">);</span>
    <span class="nx">log</span><span class="p">.</span><span class="nx">i</span><span class="p">(</span><span class="s2">"Let's pretend to perform a web request on an API that would turn on a light."</span><span class="p">);</span>
    <span class="kr">const</span> <span class="nx">ip</span> <span class="o">=</span> <span class="nx">await</span><span class="p">,</span> <span class="nx">axios</span><span class="p">,</span> <span class="nx">get</span> <span class="o">=</span> <span class="p">(</span><span class="s1">'http://jsonip.com'</span><span class="p">);</span>
    <span class="nx">log</span><span class="p">.</span><span class="nx">i</span><span class="p">(</span><span class="s2">`my ip: </span><span class="p">${</span><span class="nx">ip</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">ip</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">on</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">}</span>
<span class="kr">export</span> <span class="k">default</span> <span class="k">new</span> <span class="nx">ExampleDevice</span><span class="p">();</span>
</code></pre>
<p>Writing scripts in browser window can quickly become unwieldy when trying as your program becomes more complex.
While devices can be controlled and created with simple scripts written in the Scrypted Management console, using the VS Code development
environment is recommended.
Using VS Code allows usage of modern JavaScript features, attaching a debuggers, and importing libraries from npm.</p>

<aside class="warning">Download and install <a target='vscode' href='https://code.visualstudio.com/'>Visual Studio Code</a> and the <a target='vscode' href='https://marketplace.visualstudio.com/items?itemName=koush.duk-debug'>Duktape Debugger Plugin</a>.</aside>

<ol>
<li>Install VS Code and the Duktape Debugger Plugin.</li>
<li>Check out either the sample <a target='vscode' href='https://github.com/koush/scrypted-vscode'>JavaScript</a> or <a target='vscode' href='https://github.com/koush/scrypted-vscode-typescript'>TypeScript</a> project from Github.</li>
<li>Create a new Script (or reuse the previous one)</li>
<li>Click Debug. Note the IP.</li>
<li>Edit <code>.vscode/settings.json</code> and enter the IP in the <code>&quot;scrypted.debugHost&quot;</code> value.</li>
<li>Launch Scrypted Debugger from the VS Code launch menu (or use the hotkey, F5).</li>
</ol>
<h3 id='package-json'>package.json</h3>
<p>You may have noticed that you didn&#39;t need to specify the OnOff interface. This is because the package.json
contains the information about the device implementation in the <code>&quot;scrypted&quot;</code> key.</p>

<blockquote>
<p>package.json</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"scrypted"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JavaScript Light"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Device"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"interfaces"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
       </span><span class="s2">"OnOff"</span><span class="w">
    </span><span class="p">]</span><span class="w">
 </span><span class="p">},</span><span class="w">
</span></code></pre>

<h1 id='core-concepts'>Core Concepts</h1>

<aside class="notice">
Devices the core entry points and objects within Scrypted.
A device can be a physical device, a virtual device, a provider of other devices (like a hub), a webhook, etc.
Devices have two primary properties: Interfaces and Events.
</aside>

<h2 id='interfaces'>Interfaces</h2><pre class="highlight typescript tab-typescript"><code><span class="c1">// Interfaces describe how the current state of a device, and can be used to modify that state.</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">light</span><span class="p">.</span><span class="nx">on</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">light</span><span class="p">.</span><span class="nx">turnOff</span><span class="p">();</span>
<span class="p">}</span>
<span class="k">else</span> <span class="p">{</span>
    <span class="nx">light</span><span class="p">.</span><span class="nx">turnOn</span><span class="p">();</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="c1">// Interfaces describe how the current state of a device, and can be used to modify that state.</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">light</span><span class="p">.</span><span class="nx">on</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">light</span><span class="p">.</span><span class="nx">turnOff</span><span class="p">();</span>
<span class="p">}</span>
<span class="k">else</span> <span class="p">{</span>
    <span class="nx">light</span><span class="p">.</span><span class="nx">turnOn</span><span class="p">();</span>
<span class="p">}</span>
</code></pre>
<p>Interfaces are how devices expose their capabilities to Scrypted. An OnOff interface represents a binary switch. The Brightness
interface represents a light that can be dimmed. The ColorSettingRgb interface indicates the light can change color.
A device may expose multiple different interfaces to describe its functionality.</p>

<p>For example, given the following devices, the interfaces they would implement:</p>

<ul>
<li>Outlet: <a href="#onoff">OnOff</a>,</li>
<li>Dimmer Switch: <a href="#onoff">OnOff</a>, <a href="#brightness">Brightness</a>,</li>
<li>Color Bulb: <a href="#onoff">OnOff</a>, <a href="#brightness">Brightness</a>, <a href="#colorsettingrgb">ColorSettingRgb</a></li>
</ul>

<p>Interfaces aren&#39;t only used represent characteristics of physical devices. As mentioned, they provide ways to hook into Scrypted.
The <a href="#httprequesthandler">HttpRequestHandler</a> lets you add a web hook to handle incoming web requests. <a href="#eventlistener">EventListener</a>
lets you create handlers that respond to events. <a href="#deviceprovider">DeviceProvider</a> acts as a controller platform (like Hue or Lifx) for
exposing multiple other devices to Scrypted.</p>

<p>Interfaces also provide a way to query the device state. Such as checking whether an outlet is on or off, the current brightness level,
or the current color.</p>
<h2 id='events'>Events</h2><pre class="highlight typescript tab-typescript"><code><span class="c1">// Events are triggered by the device on update, and can be observed.</span>
<span class="nx">light</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="s1">'OnOff'</span><span class="p">,</span> <span class="p">(</span><span class="nx">eventSource</span><span class="p">:</span> <span class="nx">ScryptedDevice</span><span class="p">,</span> <span class="nx">eventDetails</span><span class="p">:</span> <span class="nx">EventDetails</span><span class="p">,</span> <span class="nx">eventData</span><span class="p">:</span> <span class="nx">object</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">eventData</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">log</span><span class="p">.</span><span class="nx">i</span><span class="p">(</span><span class="s1">'The light was turned on.'</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="nx">log</span><span class="p">.</span><span class="nx">i</span><span class="p">(</span><span class="s1">'The light was turned off.'</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="c1">// Events are triggered by the device on update, and can be observed.</span>
<span class="nx">light</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="s1">'OnOff'</span><span class="p">,</span> <span class="p">(</span><span class="nx">eventSource</span><span class="p">,</span> <span class="nx">eventDetails</span><span class="p">,</span> <span class="nx">eventData</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">eventData</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">log</span><span class="p">.</span><span class="nx">i</span><span class="p">(</span><span class="s1">'The light was turned on.'</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>
        <span class="nx">log</span><span class="p">.</span><span class="nx">i</span><span class="p">(</span><span class="s1">'The light was turned off.'</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre>
<p>Scrypted maintains the state of all connected devices. Whenever the state of an interface is updated on a device, an Event
will be triggered for that particular interface.</p>

<p>For example, when a light turns on, the Light device would send an OnOff event. If a Slack message is received,
the Slack device would send a <a href="#messagingendpoint">MessagingEndpoint</a>
event. Setting a schedule for sunrise on weekdays would send an <a href="#alarm">Alarm</a> event on that schedule.</p>

<p>Automations subscribe to these events in your smart home setup and react accordingly.</p>


<h1 id='sdk-scrypted-sdk'>SDK: @scrypted/sdk</h1><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">sdk</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'@scrypted/sdk'</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">sdk</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'@scrypted/sdk'</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>or</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="k">import</span> <span class="nx">sdk</span> <span class="k">from</span> <span class="s1">'@scrypted/sdk'</span><span class="p">;</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">import</span> <span class="nx">sdk</span> <span class="nx">from</span> <span class="s1">'@scrypted/sdk'</span><span class="p">;</span>
</code></pre>
<p>The Scrypted SDK can be installed off npm.</p>

<p><code>npm install @scrypted/sdk --save</code></p>

<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="c1">// export interface ZwaveManagerDevice extends ZwaveManager, ScryptedDevice {</span>
<span class="c1">// }</span>

<span class="cm">/**
 * Android Intent.
 * See: https://developer.android.com/reference/android/content/Intent
 */</span>
<span class="kr">interface</span> <span class="nx">Intent</span> <span class="p">{</span>
<span class="p">}</span>

<span class="k">export</span> <span class="kr">interface</span> <span class="nx">ScryptedInterfaceDescriptor</span> <span class="p">{</span>
    <span class="nl">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">properties</span><span class="p">:</span> <span class="nx">ScryptedInterfaceProperty</span><span class="p">[];</span>
    <span class="nl">methods</span><span class="p">:</span> <span class="kr">string</span><span class="p">[];</span>
<span class="p">}</span>

<span class="kr">declare</span> <span class="kd">const</span> <span class="nx">ScryptedInterfaceDescriptors</span><span class="p">:</span> <span class="p">{</span> <span class="p">[</span><span class="nx">scryptedInterface</span><span class="p">:</span> <span class="kr">string</span><span class="p">]:</span> <span class="nx">ScryptedInterfaceDescriptor</span> <span class="p">};</span>
<span class="k">export</span> <span class="p">{</span>
    <span class="nx">ScryptedInterfaceDescriptors</span>
<span class="p">}</span>

<span class="k">export</span> <span class="kr">interface</span> <span class="nx">ScryptedStatic</span> <span class="p">{</span>
    <span class="nx">log</span><span class="p">?:</span> <span class="nx">Logger</span><span class="p">,</span>
    <span class="nx">scriptSettings</span><span class="p">?:</span> <span class="nx">Settings</span><span class="p">,</span>

    <span class="nx">android</span><span class="p">?:</span> <span class="nx">Android</span><span class="p">,</span>
    <span class="nx">deviceManager</span><span class="p">?:</span> <span class="nx">DeviceManager</span><span class="p">,</span>
    <span class="nx">endpointManager</span><span class="p">?:</span> <span class="nx">EndpointManager</span><span class="p">,</span>
    <span class="nx">mediaManager</span><span class="p">?:</span> <span class="nx">MediaManager</span><span class="p">,</span>
    <span class="nx">systemManager</span><span class="p">:</span> <span class="nx">SystemManager</span><span class="p">,</span>
    <span class="c1">// zwaveManager?: ZwaveManagerDevice,</span>
<span class="p">}</span>

</code></pre><pre class="highlight javascript tab-javascript"><code><span class="c1">// export interface ZwaveManagerDevice extends ZwaveManager, ScryptedDevice {</span>
<span class="c1">// }</span>

<span class="cm">/**
 * Android Intent.
 * See: https://developer.android.com/reference/android/content/Intent
 */</span>
<span class="kr">interface</span> <span class="nx">Intent</span> <span class="p">{</span>
<span class="p">}</span>

<span class="kr">export</span> <span class="kr">interface</span> <span class="nx">ScryptedInterfaceDescriptor</span> <span class="p">{</span>
    <span class="nl">name</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
    <span class="nl">properties</span><span class="p">:</span> <span class="nx">ScryptedInterfaceProperty</span><span class="p">[];</span>
    <span class="nl">methods</span><span class="p">:</span> <span class="nx">string</span><span class="p">[];</span>
<span class="p">}</span>

<span class="nx">declare</span> <span class="kr">const</span> <span class="nx">ScryptedInterfaceDescriptors</span><span class="p">:</span> <span class="p">{</span> <span class="p">[</span><span class="nx">scryptedInterface</span><span class="p">:</span> <span class="nx">string</span><span class="p">]:</span> <span class="nx">ScryptedInterfaceDescriptor</span> <span class="p">};</span>
<span class="kr">export</span> <span class="p">{</span>
    <span class="nx">ScryptedInterfaceDescriptors</span>
<span class="p">}</span>

<span class="kr">export</span> <span class="kr">interface</span> <span class="nx">ScryptedStatic</span> <span class="p">{</span>
    <span class="nx">log</span><span class="p">?:</span> <span class="nx">Logger</span><span class="p">,</span>
    <span class="nx">scriptSettings</span><span class="p">?:</span> <span class="nx">Settings</span><span class="p">,</span>

    <span class="nx">android</span><span class="p">?:</span> <span class="nx">Android</span><span class="p">,</span>
    <span class="nx">deviceManager</span><span class="p">?:</span> <span class="nx">DeviceManager</span><span class="p">,</span>
    <span class="nx">endpointManager</span><span class="p">?:</span> <span class="nx">EndpointManager</span><span class="p">,</span>
    <span class="nx">mediaManager</span><span class="p">?:</span> <span class="nx">MediaManager</span><span class="p">,</span>
    <span class="nx">systemManager</span><span class="p">:</span> <span class="nx">SystemManager</span><span class="p">,</span>
    <span class="c1">// zwaveManager?: ZwaveManagerDevice,</span>
<span class="p">}</span>

</code></pre><h2 id='sdk-log'>sdk.log</h2>

<blockquote>
<p>Example</p>
</blockquote>

<pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">log</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">sdk</span><span class="p">;</span>
<span class="nx">log</span><span class="p">.</span><span class="nx">i</span><span class="p">(</span><span class="s1">'Hello world.'</span><span class="p">);</span>
<span class="nx">log</span><span class="p">.</span><span class="nx">a</span><span class="p">(</span><span class="s1">'log.a will show up in the notification area!'</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="p">{</span> <span class="nx">log</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">sdk</span><span class="p">;</span>
<span class="nx">log</span><span class="p">.</span><span class="nx">i</span><span class="p">(</span><span class="s1">'Hello world.'</span><span class="p">);</span>
<span class="nx">log</span><span class="p">.</span><span class="nx">a</span><span class="p">(</span><span class="s1">'log.a will show up in the notification area!'</span><span class="p">);</span>
</code></pre>

<p>The <a href="#logger">log</a> property writes logs and notification alerts which can be viewed in the web magement console.</p>

<h2 id='sdk-systemmanager'>sdk.systemManager</h2>

<p><a href="#systemmanager">SystemManager</a> is used by scripts to query device state and access devices.</p>

<h2 id='sdk-devicemanager'>sdk.deviceManager</h2>

<p><a href="#devicemanager">DeviceManager</a> fascilitates querying, control, and creation of devices. It also and sending events from existing devices.</p>

<aside class="notice">
More information can be found in the <a href='#device-reference'>Device Reference</a>
</aside>

<h2 id='sdk-mediamanager'>sdk.mediaManager</h2>

<p>The <a href="#mediamanager">media</a> property manages creation and conversion of media types.</p>

<aside class="notice">
More information can be found in the <a href='#media-reference'>Media Reference</a>
</aside>
<h1 id='core-reference'>Core Reference</h1><h2 id='scrypteddevice'>ScryptedDevice</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">ScryptedDevice</span>  <span class="p">{</span>
  <span class="nl">component</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">id</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">interfaces</span><span class="p">:</span> <span class="kr">string</span><span class="p">[];</span>
  <span class="nl">metadata</span><span class="p">:</span> <span class="kr">any</span><span class="p">;</span>
  <span class="nl">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">providedInterfaces</span><span class="p">:</span> <span class="kr">string</span><span class="p">[];</span>
  <span class="nl">providedName</span><span class="p">:</span> <span class="nx">ScryptedDeviceType</span><span class="p">;</span>
  <span class="nl">providedRoom</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">providedType</span><span class="p">:</span> <span class="nx">ScryptedDeviceType</span><span class="p">;</span>
  <span class="nl">providerId</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">room</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">type</span><span class="p">:</span> <span class="nx">ScryptedDeviceType</span><span class="p">;</span>

  <span class="nx">listen</span><span class="p">(</span><span class="nx">event</span><span class="p">:</span> <span class="nx">ScryptedInterface</span><span class="o">|</span><span class="kr">string</span><span class="o">|</span><span class="nx">EventListenerOptions</span><span class="p">,</span> <span class="nx">callback</span><span class="p">:</span> <span class="p">(</span><span class="nx">eventSource</span><span class="p">:</span> <span class="nx">ScryptedDevice</span><span class="o">|</span><span class="kc">null</span><span class="p">,</span> <span class="nx">eventDetails</span><span class="p">:</span> <span class="nx">EventDetails</span><span class="p">,</span> <span class="nx">eventData</span><span class="p">:</span> <span class="kr">any</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">void</span><span class="p">):</span> <span class="nx">EventListenerRegister</span><span class="p">;</span>
  <span class="nx">setName</span><span class="p">(</span><span class="nx">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">setRoom</span><span class="p">(</span><span class="nx">room</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">setType</span><span class="p">(</span><span class="kd">type</span><span class="p">:</span> <span class="nx">ScryptedDeviceType</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">ScryptedDevice</span>  <span class="p">{</span>
  <span class="nl">component</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nl">id</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nl">interfaces</span><span class="p">:</span> <span class="nx">string</span><span class="p">[];</span>
  <span class="nl">metadata</span><span class="p">:</span> <span class="nx">any</span><span class="p">;</span>
  <span class="nl">name</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nl">providedInterfaces</span><span class="p">:</span> <span class="nx">string</span><span class="p">[];</span>
  <span class="nl">providedName</span><span class="p">:</span> <span class="nx">ScryptedDeviceType</span><span class="p">;</span>
  <span class="nl">providedRoom</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nl">providedType</span><span class="p">:</span> <span class="nx">ScryptedDeviceType</span><span class="p">;</span>
  <span class="nl">providerId</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nl">room</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nl">type</span><span class="p">:</span> <span class="nx">ScryptedDeviceType</span><span class="p">;</span>

  <span class="nx">listen</span><span class="p">(</span><span class="nx">event</span><span class="p">:</span> <span class="nx">ScryptedInterface</span><span class="o">|</span><span class="nx">string</span><span class="o">|</span><span class="nx">EventListenerOptions</span><span class="p">,</span> <span class="nx">callback</span><span class="p">:</span> <span class="p">(</span><span class="nx">eventSource</span><span class="p">:</span> <span class="nx">ScryptedDevice</span><span class="o">|</span><span class="kc">null</span><span class="p">,</span> <span class="nx">eventDetails</span><span class="p">:</span> <span class="nx">EventDetails</span><span class="p">,</span> <span class="nx">eventData</span><span class="p">:</span> <span class="nx">any</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">void</span><span class="p">):</span> <span class="nx">EventListenerRegister</span><span class="p">;</span>
  <span class="nx">setName</span><span class="p">(</span><span class="nx">name</span><span class="p">:</span> <span class="nx">string</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">setRoom</span><span class="p">(</span><span class="nx">room</span><span class="p">:</span> <span class="nx">string</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">setType</span><span class="p">(</span><span class="nx">type</span><span class="p">:</span> <span class="nx">ScryptedDeviceType</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Example</p>
</blockquote>

<pre class="highlight typescript tab-typescript"><code><span class="nx">light</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="s1">'OnOff'</span><span class="p">,</span> <span class="p">(</span><span class="nx">eventSource</span><span class="p">:</span> <span class="nx">ScryptedDevice</span><span class="p">,</span> <span class="nx">eventDetails</span><span class="p">:</span> <span class="nx">EventDetails</span><span class="p">,</span> <span class="nx">eventData</span><span class="p">:</span> <span class="nx">object</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">eventData</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">log</span><span class="p">.</span><span class="nx">i</span><span class="p">(</span><span class="s1">'The light was turned on.'</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="nx">log</span><span class="p">.</span><span class="nx">i</span><span class="p">(</span><span class="s1">'The light was turned off.'</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">light</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="s1">'OnOff'</span><span class="p">,</span> <span class="p">(</span><span class="nx">eventSource</span><span class="p">,</span> <span class="nx">eventDetails</span><span class="p">,</span> <span class="nx">eventData</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">eventData</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">log</span><span class="p">.</span><span class="nx">i</span><span class="p">(</span><span class="s1">'The light was turned on.'</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>
        <span class="nx">log</span><span class="p">.</span><span class="nx">i</span><span class="p">(</span><span class="s1">'The light was turned off.'</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre>

<aside class="notice">


All devices in Scrypted implement ScryptedDevice, which contains the id, name, and type. Add listeners to subscribe to events from that device.

</aside>
<h3 id='properties'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>component</td>
<td>string</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
</tr>
<tr>
<td>interfaces</td>
<td>string[]</td>
</tr>
<tr>
<td>metadata</td>
<td>any</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
</tr>
<tr>
<td>providedInterfaces</td>
<td>string[]</td>
</tr>
<tr>
<td>providedName</td>
<td>ScryptedDeviceType</td>
</tr>
<tr>
<td>providedRoom</td>
<td>string</td>
</tr>
<tr>
<td>providedType</td>
<td>ScryptedDeviceType</td>
</tr>
<tr>
<td>providerId</td>
<td>string</td>
</tr>
<tr>
<td>room</td>
<td>string</td>
</tr>
<tr>
<td>type</td>
<td>ScryptedDeviceType</td>
</tr>
</tbody></table>
<h3 id='listen'>listen</h3>
<p><a href='#eventlistenerregister'>EventListenerRegister</a> listen(ScryptedInterface|string|<a href='#eventlisteneroptions'>EventListenerOptions</a> event, <a href='#eventlistener'>EventListener</a> callback)</p>

<p>Subscribe to events from a specific interface on a device, such as &#39;OnOff&#39; or &#39;Brightness&#39;.</p>
<h3 id='setname'>setName</h3>
<p>Promise&lt;void&gt; setName(string name)</p>
<h3 id='setroom'>setRoom</h3>
<p>Promise&lt;void&gt; setRoom(string room)</p>
<h3 id='settype'>setType</h3>
<p>Promise&lt;void&gt; setType(ScryptedDeviceType type)</p>
<h2 id='systemmanager'>SystemManager</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">SystemManager</span>  <span class="p">{</span>
  <span class="nx">getComponent</span><span class="p">(</span><span class="nx">id</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="kr">any</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">getDeviceById</span><span class="p">(</span><span class="nx">id</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="nx">ScryptedDevice</span><span class="o">|</span><span class="kc">null</span><span class="p">;</span>
  <span class="nx">getDeviceByName</span><span class="p">(</span><span class="nx">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="nx">ScryptedDevice</span><span class="o">|</span><span class="kc">null</span><span class="p">;</span>
  <span class="nx">getDeviceState</span><span class="p">(</span><span class="nx">id</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="kr">any</span><span class="p">;</span>
  <span class="nx">getSystemState</span><span class="p">():</span> <span class="p">{[</span><span class="nx">id</span><span class="p">:</span> <span class="kr">string</span><span class="p">]:</span> <span class="p">{[</span><span class="nx">property</span><span class="p">:</span> <span class="kr">string</span><span class="p">]:</span> <span class="nx">SystemDeviceState</span><span class="p">}};</span>
  <span class="nx">listen</span><span class="p">(</span><span class="nx">EventListener</span><span class="p">:</span> <span class="p">(</span><span class="nx">eventSource</span><span class="p">:</span> <span class="nx">ScryptedDevice</span><span class="o">|</span><span class="kc">null</span><span class="p">,</span> <span class="nx">eventDetails</span><span class="p">:</span> <span class="nx">EventDetails</span><span class="p">,</span> <span class="nx">eventData</span><span class="p">:</span> <span class="kr">any</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">void</span><span class="p">):</span> <span class="nx">EventListenerRegister</span><span class="p">;</span>
  <span class="nx">listenDevice</span><span class="p">(</span><span class="nx">id</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="nx">event</span><span class="p">:</span> <span class="nx">ScryptedInterface</span><span class="o">|</span><span class="kr">string</span><span class="o">|</span><span class="nx">EventListenerOptions</span><span class="p">,</span> <span class="nx">callback</span><span class="p">:</span> <span class="p">(</span><span class="nx">eventSource</span><span class="p">:</span> <span class="nx">ScryptedDevice</span><span class="o">|</span><span class="kc">null</span><span class="p">,</span> <span class="nx">eventDetails</span><span class="p">:</span> <span class="nx">EventDetails</span><span class="p">,</span> <span class="nx">eventData</span><span class="p">:</span> <span class="kr">any</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">void</span><span class="p">):</span> <span class="nx">EventListenerRegister</span><span class="p">;</span>
  <span class="nx">removeDevice</span><span class="p">(</span><span class="nx">id</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">SystemManager</span>  <span class="p">{</span>
  <span class="nx">getComponent</span><span class="p">(</span><span class="nx">id</span><span class="p">:</span> <span class="nx">string</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">any</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">getDeviceById</span><span class="p">(</span><span class="nx">id</span><span class="p">:</span> <span class="nx">string</span><span class="p">):</span> <span class="nx">ScryptedDevice</span><span class="o">|</span><span class="kc">null</span><span class="p">;</span>
  <span class="nx">getDeviceByName</span><span class="p">(</span><span class="nx">name</span><span class="p">:</span> <span class="nx">string</span><span class="p">):</span> <span class="nx">ScryptedDevice</span><span class="o">|</span><span class="kc">null</span><span class="p">;</span>
  <span class="nx">getDeviceState</span><span class="p">(</span><span class="nx">id</span><span class="p">:</span> <span class="nx">string</span><span class="p">):</span> <span class="nx">any</span><span class="p">;</span>
  <span class="nx">getSystemState</span><span class="p">():</span> <span class="p">{[</span><span class="nx">id</span><span class="p">:</span> <span class="nx">string</span><span class="p">]:</span> <span class="p">{[</span><span class="nx">property</span><span class="p">:</span> <span class="nx">string</span><span class="p">]:</span> <span class="nx">SystemDeviceState</span><span class="p">}};</span>
  <span class="nx">listen</span><span class="p">(</span><span class="nx">EventListener</span><span class="p">:</span> <span class="p">(</span><span class="nx">eventSource</span><span class="p">:</span> <span class="nx">ScryptedDevice</span><span class="o">|</span><span class="kc">null</span><span class="p">,</span> <span class="nx">eventDetails</span><span class="p">:</span> <span class="nx">EventDetails</span><span class="p">,</span> <span class="nx">eventData</span><span class="p">:</span> <span class="nx">any</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">void</span><span class="p">):</span> <span class="nx">EventListenerRegister</span><span class="p">;</span>
  <span class="nx">listenDevice</span><span class="p">(</span><span class="nx">id</span><span class="p">:</span> <span class="nx">string</span><span class="p">,</span> <span class="nx">event</span><span class="p">:</span> <span class="nx">ScryptedInterface</span><span class="o">|</span><span class="nx">string</span><span class="o">|</span><span class="nx">EventListenerOptions</span><span class="p">,</span> <span class="nx">callback</span><span class="p">:</span> <span class="p">(</span><span class="nx">eventSource</span><span class="p">:</span> <span class="nx">ScryptedDevice</span><span class="o">|</span><span class="kc">null</span><span class="p">,</span> <span class="nx">eventDetails</span><span class="p">:</span> <span class="nx">EventDetails</span><span class="p">,</span> <span class="nx">eventData</span><span class="p">:</span> <span class="nx">any</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">void</span><span class="p">):</span> <span class="nx">EventListenerRegister</span><span class="p">;</span>
  <span class="nx">removeDevice</span><span class="p">(</span><span class="nx">id</span><span class="p">:</span> <span class="nx">string</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<aside class="notice">


SystemManager is used by scripts to query device state and access devices.

</aside>
<h3 id='getcomponent'>getComponent</h3>
<p>Promise&lt;any&gt; getComponent(string id)</p>

<p>Retrieve a system service.</p>
<h3 id='getdevicebyid'>getDeviceById</h3>
<p>ScryptedDevice|null getDeviceById(string id)</p>

<p>Find a Scrypted device by id.</p>
<h3 id='getdevicebyname'>getDeviceByName</h3>
<p>ScryptedDevice|null getDeviceByName(string name)</p>

<p>Find a Scrypted device by name.</p>
<h3 id='getdevicestate'>getDeviceState</h3>
<p>any getDeviceState(string id)</p>

<p>Get the current state of a device.</p>
<h3 id='getsystemstate'>getSystemState</h3>
<p>{[id: string]: {[property: string]: SystemDeviceState}} getSystemState()</p>

<p>Get the current state of every device.</p>
<h3 id='listen-2'>listen</h3>
<p><a href='#eventlistenerregister'>EventListenerRegister</a> listen(<a href='#eventlistener'>EventListener</a> EventListener)</p>

<p>Passively (without polling) listen to property changed events.</p>
<h3 id='listendevice'>listenDevice</h3>
<p><a href='#eventlistenerregister'>EventListenerRegister</a> listenDevice(string id, ScryptedInterface|string|<a href='#eventlisteneroptions'>EventListenerOptions</a> event, <a href='#eventlistener'>EventListener</a> callback)</p>

<p>Subscribe to events from a specific interface on a device id, such as &#39;OnOff&#39; or &#39;Brightness&#39;. This is a convenience method for ScryptedDevice.listen.</p>
<h3 id='removedevice'>removeDevice</h3>
<p>Promise&lt;void&gt; removeDevice(string id)</p>

<p>Remove a device from Scrypted. Plugins should use DeviceManager.onDevicesChanged or DeviceManager.onDeviceRemoved to remove their own devices</p>
<h2 id='scrypteddevicetype'>ScryptedDeviceType</h2><pre class="highlight typescript tab-typescript"><code><span class="kr">enum</span> <span class="nx">ScryptedDeviceType</span> <span class="p">{</span>
  <span class="nx">Builtin</span> <span class="o">=</span> <span class="s2">"Builtin"</span><span class="p">,</span>
  <span class="nx">Camera</span> <span class="o">=</span> <span class="s2">"Camera"</span><span class="p">,</span>
  <span class="nx">Fan</span> <span class="o">=</span> <span class="s2">"Fan"</span><span class="p">,</span>
  <span class="nx">Light</span> <span class="o">=</span> <span class="s2">"Light"</span><span class="p">,</span>
  <span class="nx">Switch</span> <span class="o">=</span> <span class="s2">"Switch"</span><span class="p">,</span>
  <span class="nx">Outlet</span> <span class="o">=</span> <span class="s2">"Outlet"</span><span class="p">,</span>
  <span class="nx">Sensor</span> <span class="o">=</span> <span class="s2">"Sensor"</span><span class="p">,</span>
  <span class="nx">Scene</span> <span class="o">=</span> <span class="s2">"Scene"</span><span class="p">,</span>
  <span class="nx">Program</span> <span class="o">=</span> <span class="s2">"Program"</span><span class="p">,</span>
  <span class="nx">Automation</span> <span class="o">=</span> <span class="s2">"Automation"</span><span class="p">,</span>
  <span class="nx">Vacuum</span> <span class="o">=</span> <span class="s2">"Vacuum"</span><span class="p">,</span>
  <span class="nx">Notifier</span> <span class="o">=</span> <span class="s2">"Notifier"</span><span class="p">,</span>
  <span class="nx">Thermostat</span> <span class="o">=</span> <span class="s2">"Thermostat"</span><span class="p">,</span>
  <span class="nx">Lock</span> <span class="o">=</span> <span class="s2">"Lock"</span><span class="p">,</span>
  <span class="nx">PasswordControl</span> <span class="o">=</span> <span class="s2">"PasswordControl"</span><span class="p">,</span>
  <span class="nx">Display</span> <span class="o">=</span> <span class="s2">"Display"</span><span class="p">,</span>
  <span class="nx">Speaker</span> <span class="o">=</span> <span class="s2">"Speaker"</span><span class="p">,</span>
  <span class="nx">Event</span> <span class="o">=</span> <span class="s2">"Event"</span><span class="p">,</span>
  <span class="nx">Entry</span> <span class="o">=</span> <span class="s2">"Entry"</span><span class="p">,</span>
  <span class="nx">Garage</span> <span class="o">=</span> <span class="s2">"Garage"</span><span class="p">,</span>
  <span class="nx">DeviceProvider</span> <span class="o">=</span> <span class="s2">"DeviceProvider"</span><span class="p">,</span>
  <span class="nx">DataSource</span> <span class="o">=</span> <span class="s2">"DataSource"</span><span class="p">,</span>
  <span class="nx">API</span> <span class="o">=</span> <span class="s2">"API"</span><span class="p">,</span>
  <span class="nx">Doorbell</span> <span class="o">=</span> <span class="s2">"Doorbell"</span><span class="p">,</span>
  <span class="nx">Unknown</span> <span class="o">=</span> <span class="s2">"Unknown"</span><span class="p">,</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">enum</span> <span class="nx">ScryptedDeviceType</span> <span class="p">{</span>
  <span class="nx">Builtin</span> <span class="o">=</span> <span class="s2">"Builtin"</span><span class="p">,</span>
  <span class="nx">Camera</span> <span class="o">=</span> <span class="s2">"Camera"</span><span class="p">,</span>
  <span class="nx">Fan</span> <span class="o">=</span> <span class="s2">"Fan"</span><span class="p">,</span>
  <span class="nx">Light</span> <span class="o">=</span> <span class="s2">"Light"</span><span class="p">,</span>
  <span class="nx">Switch</span> <span class="o">=</span> <span class="s2">"Switch"</span><span class="p">,</span>
  <span class="nx">Outlet</span> <span class="o">=</span> <span class="s2">"Outlet"</span><span class="p">,</span>
  <span class="nx">Sensor</span> <span class="o">=</span> <span class="s2">"Sensor"</span><span class="p">,</span>
  <span class="nx">Scene</span> <span class="o">=</span> <span class="s2">"Scene"</span><span class="p">,</span>
  <span class="nx">Program</span> <span class="o">=</span> <span class="s2">"Program"</span><span class="p">,</span>
  <span class="nx">Automation</span> <span class="o">=</span> <span class="s2">"Automation"</span><span class="p">,</span>
  <span class="nx">Vacuum</span> <span class="o">=</span> <span class="s2">"Vacuum"</span><span class="p">,</span>
  <span class="nx">Notifier</span> <span class="o">=</span> <span class="s2">"Notifier"</span><span class="p">,</span>
  <span class="nx">Thermostat</span> <span class="o">=</span> <span class="s2">"Thermostat"</span><span class="p">,</span>
  <span class="nx">Lock</span> <span class="o">=</span> <span class="s2">"Lock"</span><span class="p">,</span>
  <span class="nx">PasswordControl</span> <span class="o">=</span> <span class="s2">"PasswordControl"</span><span class="p">,</span>
  <span class="nx">Display</span> <span class="o">=</span> <span class="s2">"Display"</span><span class="p">,</span>
  <span class="nx">Speaker</span> <span class="o">=</span> <span class="s2">"Speaker"</span><span class="p">,</span>
  <span class="nx">Event</span> <span class="o">=</span> <span class="s2">"Event"</span><span class="p">,</span>
  <span class="nx">Entry</span> <span class="o">=</span> <span class="s2">"Entry"</span><span class="p">,</span>
  <span class="nx">Garage</span> <span class="o">=</span> <span class="s2">"Garage"</span><span class="p">,</span>
  <span class="nx">DeviceProvider</span> <span class="o">=</span> <span class="s2">"DeviceProvider"</span><span class="p">,</span>
  <span class="nx">DataSource</span> <span class="o">=</span> <span class="s2">"DataSource"</span><span class="p">,</span>
  <span class="nx">API</span> <span class="o">=</span> <span class="s2">"API"</span><span class="p">,</span>
  <span class="nx">Doorbell</span> <span class="o">=</span> <span class="s2">"Doorbell"</span><span class="p">,</span>
  <span class="nx">Unknown</span> <span class="o">=</span> <span class="s2">"Unknown"</span><span class="p">,</span>
<span class="p">}</span>
</code></pre>
<aside class="notice">

Used by <a href='#scrypteddevice'>ScryptedDevice</a>.


</aside>

<table><thead>
<tr>
<th>Enum</th>
</tr>
</thead><tbody>
<tr>
<td>&quot;Builtin&quot;</td>
</tr>
<tr>
<td>&quot;Camera&quot;</td>
</tr>
<tr>
<td>&quot;Fan&quot;</td>
</tr>
<tr>
<td>&quot;Light&quot;</td>
</tr>
<tr>
<td>&quot;Switch&quot;</td>
</tr>
<tr>
<td>&quot;Outlet&quot;</td>
</tr>
<tr>
<td>&quot;Sensor&quot;</td>
</tr>
<tr>
<td>&quot;Scene&quot;</td>
</tr>
<tr>
<td>&quot;Program&quot;</td>
</tr>
<tr>
<td>&quot;Automation&quot;</td>
</tr>
<tr>
<td>&quot;Vacuum&quot;</td>
</tr>
<tr>
<td>&quot;Notifier&quot;</td>
</tr>
<tr>
<td>&quot;Thermostat&quot;</td>
</tr>
<tr>
<td>&quot;Lock&quot;</td>
</tr>
<tr>
<td>&quot;PasswordControl&quot;</td>
</tr>
<tr>
<td>&quot;Display&quot;</td>
</tr>
<tr>
<td>&quot;Speaker&quot;</td>
</tr>
<tr>
<td>&quot;Event&quot;</td>
</tr>
<tr>
<td>&quot;Entry&quot;</td>
</tr>
<tr>
<td>&quot;Garage&quot;</td>
</tr>
<tr>
<td>&quot;DeviceProvider&quot;</td>
</tr>
<tr>
<td>&quot;DataSource&quot;</td>
</tr>
<tr>
<td>&quot;API&quot;</td>
</tr>
<tr>
<td>&quot;Doorbell&quot;</td>
</tr>
<tr>
<td>&quot;Unknown&quot;</td>
</tr>
</tbody></table>
<h2 id='eventlistener'>EventListener</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">EventListener</span>  <span class="p">{</span>
  <span class="nx">onEvent</span><span class="p">(</span><span class="nx">eventSource</span><span class="p">:</span> <span class="nx">ScryptedDevice</span><span class="o">|</span><span class="kc">null</span><span class="p">,</span> <span class="nx">eventDetails</span><span class="p">:</span> <span class="nx">EventDetails</span><span class="p">,</span> <span class="nx">eventData</span><span class="p">:</span> <span class="kr">any</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">EventListener</span>  <span class="p">{</span>
  <span class="nx">onEvent</span><span class="p">(</span><span class="nx">eventSource</span><span class="p">:</span> <span class="nx">ScryptedDevice</span><span class="o">|</span><span class="kc">null</span><span class="p">,</span> <span class="nx">eventDetails</span><span class="p">:</span> <span class="nx">EventDetails</span><span class="p">,</span> <span class="nx">eventData</span><span class="p">:</span> <span class="nx">any</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><h3 id='onevent'>onEvent</h3>
<p>Promise&lt;void&gt; onEvent(ScryptedDevice|null eventSource, <a href='#eventdetails'>EventDetails</a> eventDetails, any eventData)</p>

<p>This device type can be hooked by Automation actions to handle events. The event source, event details (interface, time, property), and event data are all passed to the listener as arguments.</p>
<h2 id='eventlistenerregister'>EventListenerRegister</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">EventListenerRegister</span>  <span class="p">{</span>
  <span class="nx">removeListener</span><span class="p">():</span> <span class="k">void</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">EventListenerRegister</span>  <span class="p">{</span>
  <span class="nx">removeListener</span><span class="p">():</span> <span class="k">void</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<aside class="notice">

Used by <a href='#scrypteddevice'>ScryptedDevice</a>.


Returned when an event listener is attached to an EventEmitter. Call removeListener to unregister from events.

</aside>
<h3 id='removelistener'>removeListener</h3>
<p>void removeListener()</p>
<h2 id='systemdevicestate'>SystemDeviceState</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">SystemDeviceState</span>  <span class="p">{</span>
  <span class="nl">lastEventTime</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">stateTime</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">value</span><span class="p">:</span> <span class="kr">any</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">SystemDeviceState</span>  <span class="p">{</span>
  <span class="nl">lastEventTime</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
  <span class="nl">stateTime</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
  <span class="nl">value</span><span class="p">:</span> <span class="nx">any</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><h3 id='properties-2'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>lastEventTime</td>
<td>number</td>
</tr>
<tr>
<td>stateTime</td>
<td>number</td>
</tr>
<tr>
<td>value</td>
<td>any</td>
</tr>
</tbody></table>
<h2 id='logger'>Logger</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">Logger</span>  <span class="p">{</span>
  <span class="nx">a</span><span class="p">(</span><span class="nx">msg</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="k">void</span><span class="p">;</span>
  <span class="nx">clear</span><span class="p">():</span> <span class="k">void</span><span class="p">;</span>
  <span class="nx">clearAlert</span><span class="p">(</span><span class="nx">msg</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="k">void</span><span class="p">;</span>
  <span class="nx">clearAlerts</span><span class="p">():</span> <span class="k">void</span><span class="p">;</span>
  <span class="nx">d</span><span class="p">(</span><span class="nx">msg</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="k">void</span><span class="p">;</span>
  <span class="nx">e</span><span class="p">(</span><span class="nx">msg</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="k">void</span><span class="p">;</span>
  <span class="nx">i</span><span class="p">(</span><span class="nx">msg</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="k">void</span><span class="p">;</span>
  <span class="nx">v</span><span class="p">(</span><span class="nx">msg</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="k">void</span><span class="p">;</span>
  <span class="nx">w</span><span class="p">(</span><span class="nx">msg</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="k">void</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">Logger</span>  <span class="p">{</span>
  <span class="nx">a</span><span class="p">(</span><span class="nx">msg</span><span class="p">:</span> <span class="nx">string</span><span class="p">):</span> <span class="k">void</span><span class="p">;</span>
  <span class="nx">clear</span><span class="p">():</span> <span class="k">void</span><span class="p">;</span>
  <span class="nx">clearAlert</span><span class="p">(</span><span class="nx">msg</span><span class="p">:</span> <span class="nx">string</span><span class="p">):</span> <span class="k">void</span><span class="p">;</span>
  <span class="nx">clearAlerts</span><span class="p">():</span> <span class="k">void</span><span class="p">;</span>
  <span class="nx">d</span><span class="p">(</span><span class="nx">msg</span><span class="p">:</span> <span class="nx">string</span><span class="p">):</span> <span class="k">void</span><span class="p">;</span>
  <span class="nx">e</span><span class="p">(</span><span class="nx">msg</span><span class="p">:</span> <span class="nx">string</span><span class="p">):</span> <span class="k">void</span><span class="p">;</span>
  <span class="nx">i</span><span class="p">(</span><span class="nx">msg</span><span class="p">:</span> <span class="nx">string</span><span class="p">):</span> <span class="k">void</span><span class="p">;</span>
  <span class="nx">v</span><span class="p">(</span><span class="nx">msg</span><span class="p">:</span> <span class="nx">string</span><span class="p">):</span> <span class="k">void</span><span class="p">;</span>
  <span class="nx">w</span><span class="p">(</span><span class="nx">msg</span><span class="p">:</span> <span class="nx">string</span><span class="p">):</span> <span class="k">void</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<aside class="notice">


Logger is exposed via log.* to allow writing to the Scrypted log.

</aside>
<h3 id='a'>a</h3>
<p>void a(string msg)</p>

<p>Alert. Alert level logs will be displayed as a notification in the management console.</p>
<h3 id='clear'>clear</h3>
<p>void clear()</p>

<p>Clear the log</p>
<h3 id='clearalert'>clearAlert</h3>
<p>void clearAlert(string msg)</p>

<p>Clear a specific alert</p>
<h3 id='clearalerts'>clearAlerts</h3>
<p>void clearAlerts()</p>

<p>Clear all alerts</p>
<h3 id='d'>d</h3>
<p>void d(string msg)</p>

<p>Debug</p>
<h3 id='e'>e</h3>
<p>void e(string msg)</p>

<p>Error</p>
<h3 id='i'>i</h3>
<p>void i(string msg)</p>

<p>Info</p>
<h3 id='v'>v</h3>
<p>void v(string msg)</p>

<p>Verbose</p>
<h3 id='w'>w</h3>
<p>void w(string msg)</p>

<p>Warn</p>
<h1 id='device-provider-reference'>Device Provider Reference</h1><h2 id='devicemanager'>DeviceManager</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">DeviceManager</span>  <span class="p">{</span>
  <span class="nx">getDeviceLogger</span><span class="p">(</span><span class="nx">nativeId</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="nx">Logger</span><span class="p">;</span>
  <span class="nx">getDeviceState</span><span class="p">():</span> <span class="nx">DeviceState</span><span class="p">;</span>
  <span class="nx">getDeviceState</span><span class="p">(</span><span class="nx">nativeId</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="nx">DeviceState</span><span class="p">;</span>
  <span class="nx">getDeviceStorage</span><span class="p">():</span> <span class="nx">Storage</span><span class="p">;</span>
  <span class="nx">getDeviceStorage</span><span class="p">(</span><span class="nx">nativeId</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="nx">Storage</span><span class="p">;</span>
  <span class="nx">getNativeIds</span><span class="p">():</span> <span class="kr">string</span><span class="p">[];</span>
  <span class="nx">onDeviceDiscovered</span><span class="p">(</span><span class="nx">device</span><span class="p">:</span> <span class="nx">Device</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">onDeviceEvent</span><span class="p">(</span><span class="nx">nativeId</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="nx">eventInterface</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="nx">eventData</span><span class="p">:</span> <span class="kr">any</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">onDeviceRemoved</span><span class="p">(</span><span class="nx">nativeId</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">onDevicesChanged</span><span class="p">(</span><span class="nx">devices</span><span class="p">:</span> <span class="nx">DeviceManifest</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">DeviceManager</span>  <span class="p">{</span>
  <span class="nx">getDeviceLogger</span><span class="p">(</span><span class="nx">nativeId</span><span class="p">:</span> <span class="nx">string</span><span class="p">):</span> <span class="nx">Logger</span><span class="p">;</span>
  <span class="nx">getDeviceState</span><span class="p">():</span> <span class="nx">DeviceState</span><span class="p">;</span>
  <span class="nx">getDeviceState</span><span class="p">(</span><span class="nx">nativeId</span><span class="p">:</span> <span class="nx">string</span><span class="p">):</span> <span class="nx">DeviceState</span><span class="p">;</span>
  <span class="nx">getDeviceStorage</span><span class="p">():</span> <span class="nx">Storage</span><span class="p">;</span>
  <span class="nx">getDeviceStorage</span><span class="p">(</span><span class="nx">nativeId</span><span class="p">:</span> <span class="nx">string</span><span class="p">):</span> <span class="nx">Storage</span><span class="p">;</span>
  <span class="nx">getNativeIds</span><span class="p">():</span> <span class="nx">string</span><span class="p">[];</span>
  <span class="nx">onDeviceDiscovered</span><span class="p">(</span><span class="nx">device</span><span class="p">:</span> <span class="nx">Device</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">onDeviceEvent</span><span class="p">(</span><span class="nx">nativeId</span><span class="p">:</span> <span class="nx">string</span><span class="p">,</span> <span class="nx">eventInterface</span><span class="p">:</span> <span class="nx">string</span><span class="p">,</span> <span class="nx">eventData</span><span class="p">:</span> <span class="nx">any</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">onDeviceRemoved</span><span class="p">(</span><span class="nx">nativeId</span><span class="p">:</span> <span class="nx">string</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">onDevicesChanged</span><span class="p">(</span><span class="nx">devices</span><span class="p">:</span> <span class="nx">DeviceManifest</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Example</p>
</blockquote>

<pre class="highlight typescript tab-typescript"><code><span class="k">import</span> <span class="nx">sdk</span><span class="p">,</span> <span class="p">{</span> <span class="nx">ScryptedDeviceType</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'@scrypted/sdk'</span><span class="p">;</span>
<span class="kd">const</span> <span class="p">{</span> <span class="nx">deviceManager</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">sdk</span><span class="p">;</span>

<span class="c1">// Sync the following two lights with Scrypted. New devices unknown to Scrypted will be added</span>
<span class="c1">// while devices that were previously reported, and no longer exist, will be removed.</span>
<span class="c1">// onDevicesChanged should be called with the full sync list of devices.</span>
<span class="nx">deviceManager</span><span class="p">.</span><span class="nx">onDevicesChanged</span><span class="p">({</span>
    <span class="na">devices</span><span class="p">:[</span>
        <span class="p">{</span>
            <span class="na">nativeId</span><span class="p">:</span> <span class="s1">'1'</span><span class="p">,</span>
            <span class="na">name</span><span class="p">:</span> <span class="s1">'Light 1'</span><span class="p">,</span>
            <span class="na">type</span><span class="p">:</span> <span class="nx">ScryptedDeviceType</span><span class="p">.</span><span class="nx">Light</span><span class="p">,</span>
            <span class="na">interfaces</span><span class="p">:</span> <span class="p">[</span><span class="s1">'OnOff'</span><span class="p">,</span> <span class="s1">'Brightness'</span><span class="p">,</span> <span class="s1">'ColorSettingHsv'</span><span class="p">]</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="na">nativeId</span><span class="p">:</span> <span class="s1">'2'</span><span class="p">,</span>
            <span class="na">name</span><span class="p">:</span> <span class="s1">'Light 2'</span><span class="p">,</span>
            <span class="na">type</span><span class="p">:</span> <span class="nx">ScryptedDeviceType</span><span class="p">.</span><span class="nx">Light</span><span class="p">,</span>
            <span class="na">interfaces</span><span class="p">:</span> <span class="p">[</span><span class="s1">'OnOff'</span><span class="p">,</span> <span class="s1">'Brightness'</span><span class="p">,</span> <span class="s1">'ColorSettingHsv'</span><span class="p">]</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">});</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">import</span> <span class="nx">sdk</span><span class="p">,</span> <span class="p">{</span> <span class="nx">ScryptedDeviceType</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'@scrypted/sdk'</span><span class="p">;</span>
<span class="kr">const</span> <span class="p">{</span> <span class="nx">deviceManager</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">sdk</span><span class="p">;</span>

<span class="c1">// Sync the following two lights with Scrypted. New devices unknown to Scrypted will be added</span>
<span class="c1">// while devices that were previously reported, and no longer exist, will be removed.</span>
<span class="c1">// onDevicesChanged should be called with the full sync list of devices.</span>
<span class="nx">deviceManager</span><span class="p">.</span><span class="nx">onDevicesChanged</span><span class="p">({</span>
    <span class="na">devices</span><span class="p">:[</span>
        <span class="p">{</span>
            <span class="na">nativeId</span><span class="p">:</span> <span class="s1">'1'</span><span class="p">,</span>
            <span class="na">name</span><span class="p">:</span> <span class="s1">'Light 1'</span><span class="p">,</span>
            <span class="na">type</span><span class="p">:</span> <span class="nx">ScryptedDeviceType</span><span class="p">.</span><span class="nx">Light</span><span class="p">,</span>
            <span class="na">interfaces</span><span class="p">:</span> <span class="p">[</span><span class="s1">'OnOff'</span><span class="p">,</span> <span class="s1">'Brightness'</span><span class="p">,</span> <span class="s1">'ColorSettingHsv'</span><span class="p">]</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="na">nativeId</span><span class="p">:</span> <span class="s1">'2'</span><span class="p">,</span>
            <span class="na">name</span><span class="p">:</span> <span class="s1">'Light 2'</span><span class="p">,</span>
            <span class="na">type</span><span class="p">:</span> <span class="nx">ScryptedDeviceType</span><span class="p">.</span><span class="nx">Light</span><span class="p">,</span>
            <span class="na">interfaces</span><span class="p">:</span> <span class="p">[</span><span class="s1">'OnOff'</span><span class="p">,</span> <span class="s1">'Brightness'</span><span class="p">,</span> <span class="s1">'ColorSettingHsv'</span><span class="p">]</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">});</span>
</code></pre>

<aside class="notice">


DeviceManager is the interface used by DeviceProvider to report new devices, device states, and device events to Scrypted.

</aside>
<h3 id='getdevicelogger'>getDeviceLogger</h3>
<p><a href='#logger'>Logger</a> getDeviceLogger(string nativeId)</p>

<p>Get the logger for a device given a native id.</p>
<h3 id='getdevicestate-2'>getDeviceState</h3>
<p><a href='#devicestate'>DeviceState</a> getDeviceState()</p>

<p>Get the device state maintained by Scrypted. Setting properties on this state will update the state in Scrypted.</p>
<h3 id='getdevicestate-3'>getDeviceState</h3>
<p><a href='#devicestate'>DeviceState</a> getDeviceState(string nativeId)</p>

<p>Get the device state maintained by Scrypted. Setting properties on this state will update the state in Scrypted.</p>
<h3 id='getdevicestorage'>getDeviceStorage</h3>
<p>Storage getDeviceStorage()</p>

<p>Get the per script Storage object.</p>
<h3 id='getdevicestorage-2'>getDeviceStorage</h3>
<p>Storage getDeviceStorage(string nativeId)</p>

<p>Get the per device Storage object.</p>
<h3 id='getnativeids'>getNativeIds</h3>
<p>string[] getNativeIds()</p>
<h3 id='ondevicediscovered'>onDeviceDiscovered</h3>
<p>Promise&lt;void&gt; onDeviceDiscovered(<a href='#device'>Device</a> device)</p>

<p>onDeviceDiscovered is used to report new devices that are trickle discovered, one by one, such as via a network broadcast.</p>
<h3 id='ondeviceevent'>onDeviceEvent</h3>
<p>Promise&lt;void&gt; onDeviceEvent(string nativeId, string eventInterface, any eventData)</p>

<p>Fire an event for a device provided by this plugin.</p>
<h3 id='ondeviceremoved'>onDeviceRemoved</h3>
<p>Promise&lt;void&gt; onDeviceRemoved(string nativeId)</p>

<p>onDeviceRemoved is used to report when discovered devices are removed.</p>
<h3 id='ondeviceschanged'>onDevicesChanged</h3>
<p>Promise&lt;void&gt; onDevicesChanged(<a href='#devicemanifest'>DeviceManifest</a> devices)</p>

<p>onDevicesChanged is used to sync Scrypted with devices that are attached to a hub, such as Hue or SmartThings. All the devices should be reported at once.</p>
<h2 id='deviceprovider'>DeviceProvider</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">DeviceProvider</span>  <span class="p">{</span>
  <span class="nx">discoverDevices</span><span class="p">(</span><span class="nx">duration</span><span class="p">:</span> <span class="kr">number</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">getDevice</span><span class="p">(</span><span class="nx">nativeId</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="kr">any</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">DeviceProvider</span>  <span class="p">{</span>
  <span class="nx">discoverDevices</span><span class="p">(</span><span class="nx">duration</span><span class="p">:</span> <span class="nx">number</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">getDevice</span><span class="p">(</span><span class="nx">nativeId</span><span class="p">:</span> <span class="nx">string</span><span class="p">):</span> <span class="nx">any</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Example</p>
</blockquote>

<pre class="highlight typescript tab-typescript"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">OnOff</span><span class="p">,</span> <span class="nx">ScryptedDeviceBase</span><span class="p">,</span> <span class="nx">DeviceProvider</span><span class="p">,</span> <span class="nx">ScryptedDeviceType</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'@scrypted/sdk'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">sdk</span> <span class="k">from</span> <span class="s1">'@scrypted/sdk'</span><span class="p">;</span>
<span class="kd">const</span> <span class="p">{</span> <span class="nx">deviceManager</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">sdk</span><span class="p">;</span>

<span class="c1">// Devices returned by the DeviceProvider</span>
<span class="kr">class</span> <span class="nx">ExampleDevice</span> <span class="k">extends</span> <span class="nx">ScryptedDeviceBase</span> <span class="k">implements</span> <span class="nx">OnOff</span> <span class="p">{</span>
    <span class="kd">constructor</span><span class="p">(</span><span class="nx">nativeId</span><span class="p">:</span> <span class="kr">string</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">super</span><span class="p">(</span><span class="nx">nativeId</span><span class="p">);</span>
        <span class="c1">// Ensure the light state is not null.</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">on</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">on</span> <span class="o">||</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nx">turnOff</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">on</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nx">turnOn</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">on</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// DeviceProvider handles discovery and device requests</span>
<span class="kr">class</span> <span class="nx">ExampleDeviceProvider</span> <span class="k">extends</span> <span class="nx">ScryptedDeviceBase</span> <span class="k">implements</span> <span class="nx">DeviceProvider</span> <span class="p">{</span>
    <span class="kd">constructor</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="p">();</span>
        <span class="c1">// it is recommended to automatically perform discovery on startup</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">discoverDevices</span><span class="p">(</span><span class="mi">30</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nx">discoverDevices</span><span class="p">(</span><span class="nx">duration</span><span class="p">:</span> <span class="kr">number</span><span class="p">):</span> <span class="k">void</span> <span class="p">{</span>
        <span class="c1">// Sync the following two lights with Scrypted. New devices unknown to Scrypted will be added</span>
        <span class="c1">// while devices that were previously reported, and no longer exist, will be removed.</span>
        <span class="c1">// onDevicesChanged should be called with the full sync list of devices.</span>
        <span class="nx">deviceManager</span><span class="p">.</span><span class="nx">onDevicesChanged</span><span class="p">({</span>
            <span class="na">devices</span><span class="p">:[</span>
                <span class="p">{</span>
                    <span class="na">nativeId</span><span class="p">:</span> <span class="s1">'1'</span><span class="p">,</span>
                    <span class="na">name</span><span class="p">:</span> <span class="s1">'Light 1'</span><span class="p">,</span>
                    <span class="na">type</span><span class="p">:</span> <span class="nx">ScryptedDeviceType</span><span class="p">.</span><span class="nx">Light</span><span class="p">,</span>
                    <span class="na">interfaces</span><span class="p">:</span> <span class="p">[</span><span class="s1">'OnOff'</span><span class="p">,</span> <span class="s1">'Brightness'</span><span class="p">,</span> <span class="s1">'ColorSettingHsv'</span><span class="p">],</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="na">nativeId</span><span class="p">:</span> <span class="s1">'2'</span><span class="p">,</span>
                    <span class="na">name</span><span class="p">:</span> <span class="s1">'Light 2'</span><span class="p">,</span>
                    <span class="na">type</span><span class="p">:</span> <span class="nx">ScryptedDeviceType</span><span class="p">.</span><span class="nx">Light</span><span class="p">,</span>
                    <span class="na">interfaces</span><span class="p">:</span> <span class="p">[</span><span class="s1">'OnOff'</span><span class="p">,</span> <span class="s1">'Brightness'</span><span class="p">,</span> <span class="s1">'ColorSettingHsv'</span><span class="p">],</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">});</span>
    <span class="p">}</span>
    <span class="nx">getDevice</span><span class="p">(</span><span class="na">nativeId</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="nx">object</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nx">ExampleDevice</span><span class="p">(</span><span class="nx">nativeId</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="k">export</span> <span class="k">default</span> <span class="k">new</span> <span class="nx">ExampleDeviceProvider</span><span class="p">();</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">import</span> <span class="p">{</span> <span class="nx">ScryptedDeviceBase</span><span class="p">,</span> <span class="nx">ScryptedDeviceType</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'@scrypted/sdk'</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">sdk</span> <span class="nx">from</span> <span class="s1">'@scrypted/sdk'</span><span class="p">;</span>
<span class="kr">const</span> <span class="p">{</span> <span class="nx">deviceManager</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">sdk</span><span class="p">;</span>
<span class="c1">// Devices returned by the DeviceProvider</span>
<span class="kr">class</span> <span class="nx">ExampleDevice</span> <span class="kr">extends</span> <span class="nx">ScryptedDeviceBase</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="p">(</span><span class="nx">nativeId</span><span class="p">)</span> <span class="p">{</span>
        <span class="kr">super</span><span class="p">(</span><span class="nx">nativeId</span><span class="p">);</span>
        <span class="c1">// Ensure the light state is not null.</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">on</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">on</span> <span class="o">||</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nx">turnOff</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">on</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nx">turnOn</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">on</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="c1">// DeviceProvider handles discovery and device requests</span>
<span class="kr">class</span> <span class="nx">ExampleDeviceProvider</span> <span class="kr">extends</span> <span class="nx">ScryptedDeviceBase</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
        <span class="kr">super</span><span class="p">();</span>
        <span class="c1">// it is recommended to automatically perform discovery on startup</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">discoverDevices</span><span class="p">(</span><span class="mi">30</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nx">discoverDevices</span><span class="p">(</span><span class="nx">duration</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Sync the following two lights with Scrypted. New devices unknown to Scrypted will be added</span>
        <span class="c1">// while devices that were previously reported, and no longer exist, will be removed.</span>
        <span class="c1">// onDevicesChanged should be called with the full sync list of devices.</span>
        <span class="nx">deviceManager</span><span class="p">.</span><span class="nx">onDevicesChanged</span><span class="p">({</span>
            <span class="na">devices</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="na">nativeId</span><span class="p">:</span> <span class="s1">'1'</span><span class="p">,</span>
                    <span class="na">name</span><span class="p">:</span> <span class="s1">'Light 1'</span><span class="p">,</span>
                    <span class="na">type</span><span class="p">:</span> <span class="nx">ScryptedDeviceType</span><span class="p">.</span><span class="nx">Light</span><span class="p">,</span>
                    <span class="na">interfaces</span><span class="p">:</span> <span class="p">[</span><span class="s1">'OnOff'</span><span class="p">,</span> <span class="s1">'Brightness'</span><span class="p">,</span> <span class="s1">'ColorSettingHsv'</span><span class="p">],</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="na">nativeId</span><span class="p">:</span> <span class="s1">'2'</span><span class="p">,</span>
                    <span class="na">name</span><span class="p">:</span> <span class="s1">'Light 2'</span><span class="p">,</span>
                    <span class="na">type</span><span class="p">:</span> <span class="nx">ScryptedDeviceType</span><span class="p">.</span><span class="nx">Light</span><span class="p">,</span>
                    <span class="na">interfaces</span><span class="p">:</span> <span class="p">[</span><span class="s1">'OnOff'</span><span class="p">,</span> <span class="s1">'Brightness'</span><span class="p">,</span> <span class="s1">'ColorSettingHsv'</span><span class="p">],</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">});</span>
    <span class="p">}</span>
    <span class="nx">getDevice</span><span class="p">(</span><span class="nx">nativeId</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nx">ExampleDevice</span><span class="p">(</span><span class="nx">nativeId</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="p">;</span>
<span class="kr">export</span> <span class="k">default</span> <span class="k">new</span> <span class="nx">ExampleDeviceProvider</span><span class="p">();</span>
</code></pre>

<aside class="notice">


DeviceProvider acts as a controller/hub and exposes multiple devices to Scrypted Device Manager.

</aside>
<h3 id='discoverdevices'>discoverDevices</h3>
<p>Promise&lt;void&gt; discoverDevices(number duration)</p>

<p>Perform device discovery for the specified duration in seconds.</p>
<h3 id='getdevice'>getDevice</h3>
<p>any getDevice(string nativeId)</p>

<p>Get an instance of a previously discovered device that was reported to the device manager.</p>
<h2 id='devicemanifest'>DeviceManifest</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">DeviceManifest</span>  <span class="p">{</span>
  <span class="nl">devices</span><span class="p">:</span> <span class="nx">Device</span><span class="p">[];</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">DeviceManifest</span>  <span class="p">{</span>
  <span class="nl">devices</span><span class="p">:</span> <span class="nx">Device</span><span class="p">[];</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Example</p>
</blockquote>

<pre class="highlight typescript tab-typescript"><code><span class="p">{</span>
    <span class="nl">devices</span><span class="p">:[</span>
        <span class="p">{</span>
            <span class="na">nativeId</span><span class="p">:</span> <span class="s1">'1'</span><span class="p">,</span>
            <span class="na">name</span><span class="p">:</span> <span class="s1">'Light 1'</span><span class="p">,</span>
            <span class="na">type</span><span class="p">:</span> <span class="nx">ScryptedDeviceType</span><span class="p">.</span><span class="nx">Light</span><span class="p">,</span>
            <span class="na">interfaces</span><span class="p">:</span> <span class="p">[</span><span class="s1">'OnOff'</span><span class="p">,</span> <span class="s1">'Brightness'</span><span class="p">,</span> <span class="s1">'ColorSettingHsv'</span><span class="p">]</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="na">nativeId</span><span class="p">:</span> <span class="s1">'2'</span><span class="p">,</span>
            <span class="na">name</span><span class="p">:</span> <span class="s1">'Light 2'</span><span class="p">,</span>
            <span class="na">type</span><span class="p">:</span> <span class="nx">ScryptedDeviceType</span><span class="p">.</span><span class="nx">Light</span><span class="p">,</span>
            <span class="na">interfaces</span><span class="p">:</span> <span class="p">[</span><span class="s1">'OnOff'</span><span class="p">,</span> <span class="s1">'Brightness'</span><span class="p">,</span> <span class="s1">'ColorSettingHsv'</span><span class="p">]</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="nl">devices</span><span class="p">:[</span>
        <span class="p">{</span>
            <span class="na">nativeId</span><span class="p">:</span> <span class="s1">'1'</span><span class="p">,</span>
            <span class="na">name</span><span class="p">:</span> <span class="s1">'Light 1'</span><span class="p">,</span>
            <span class="na">type</span><span class="p">:</span> <span class="nx">ScryptedDeviceType</span><span class="p">.</span><span class="nx">Light</span><span class="p">,</span>
            <span class="na">interfaces</span><span class="p">:</span> <span class="p">[</span><span class="s1">'OnOff'</span><span class="p">,</span> <span class="s1">'Brightness'</span><span class="p">,</span> <span class="s1">'ColorSettingHsv'</span><span class="p">]</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="na">nativeId</span><span class="p">:</span> <span class="s1">'2'</span><span class="p">,</span>
            <span class="na">name</span><span class="p">:</span> <span class="s1">'Light 2'</span><span class="p">,</span>
            <span class="na">type</span><span class="p">:</span> <span class="nx">ScryptedDeviceType</span><span class="p">.</span><span class="nx">Light</span><span class="p">,</span>
            <span class="na">interfaces</span><span class="p">:</span> <span class="p">[</span><span class="s1">'OnOff'</span><span class="p">,</span> <span class="s1">'Brightness'</span><span class="p">,</span> <span class="s1">'ColorSettingHsv'</span><span class="p">]</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre>

<aside class="notice">

Used by <a href='#devicemanager'>DeviceManager</a>.


DeviceManifest is passed to DeviceManager.onDevicesChanged to sync a full list of devices from the controller/hub (Hue, SmartThings, etc)

</aside>
<h3 id='properties-3'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>devices</td>
<td><a href='#device'>Device</a>[]</td>
</tr>
</tbody></table>
<h2 id='device'>Device</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">Device</span>  <span class="p">{</span>
  <span class="nl">interfaces</span><span class="p">:</span> <span class="kr">string</span><span class="p">[];</span>
  <span class="nl">metadata</span><span class="p">:</span> <span class="kr">any</span><span class="p">;</span>
  <span class="nl">model</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">nativeId</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">providerNativeId</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">room</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">type</span><span class="p">:</span> <span class="nx">ScryptedDeviceType</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">Device</span>  <span class="p">{</span>
  <span class="nl">interfaces</span><span class="p">:</span> <span class="nx">string</span><span class="p">[];</span>
  <span class="nl">metadata</span><span class="p">:</span> <span class="nx">any</span><span class="p">;</span>
  <span class="nl">model</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nl">name</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nl">nativeId</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nl">providerNativeId</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nl">room</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nl">type</span><span class="p">:</span> <span class="nx">ScryptedDeviceType</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Example</p>
</blockquote>

<pre class="highlight typescript tab-typescript"><code><span class="p">{</span>
    <span class="nl">nativeId</span><span class="p">:</span> <span class="s1">'2'</span><span class="p">,</span>
    <span class="nx">name</span><span class="p">:</span> <span class="s1">'Light 2'</span><span class="p">,</span>
    <span class="kd">type</span><span class="p">:</span> <span class="s1">'Light'</span><span class="p">,</span>
    <span class="nx">interfaces</span><span class="p">:</span> <span class="p">[</span><span class="s1">'OnOff'</span><span class="p">,</span> <span class="s1">'Brightness'</span><span class="p">,</span> <span class="s1">'ColorSettingHsv'</span><span class="p">]</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="nl">nativeId</span><span class="p">:</span> <span class="s1">'2'</span><span class="p">,</span>
    <span class="nx">name</span><span class="p">:</span> <span class="s1">'Light 2'</span><span class="p">,</span>
    <span class="nx">type</span><span class="p">:</span> <span class="s1">'Light'</span><span class="p">,</span>
    <span class="nx">interfaces</span><span class="p">:</span> <span class="p">[</span><span class="s1">'OnOff'</span><span class="p">,</span> <span class="s1">'Brightness'</span><span class="p">,</span> <span class="s1">'ColorSettingHsv'</span><span class="p">]</span>
<span class="p">}</span>
</code></pre>

<aside class="notice">

Used by <a href='#devicemanager'>DeviceManager</a>.


Device objects are created by DeviceProviders when new devices are discover and synced to Scrypted via the DeviceManager.

</aside>
<h3 id='properties-4'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>interfaces</td>
<td>string[]</td>
</tr>
<tr>
<td>metadata</td>
<td>any</td>
</tr>
<tr>
<td>model</td>
<td>string</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
</tr>
<tr>
<td>nativeId</td>
<td>string</td>
</tr>
<tr>
<td>providerNativeId</td>
<td>string</td>
</tr>
<tr>
<td>room</td>
<td>string</td>
</tr>
<tr>
<td>type</td>
<td>ScryptedDeviceType</td>
</tr>
</tbody></table>
<h2 id='refresh'>Refresh</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">Refresh</span>  <span class="p">{</span>
  <span class="nx">getRefreshFrequency</span><span class="p">():</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="kr">number</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">refresh</span><span class="p">(</span><span class="nx">refreshInterface</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="nx">userInitiated</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">Refresh</span>  <span class="p">{</span>
  <span class="nx">getRefreshFrequency</span><span class="p">():</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">number</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">refresh</span><span class="p">(</span><span class="nx">refreshInterface</span><span class="p">:</span> <span class="nx">string</span><span class="p">,</span> <span class="nx">userInitiated</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<aside class="notice">


Refresh indicates that this device has properties that are not automatically updated, and must be periodically refreshed via polling. Device implementations should never implement their own underlying polling algorithm, and instead implement Refresh to allow Scrypted to manage polling intelligently.

</aside>
<h3 id='getrefreshfrequency'>getRefreshFrequency</h3>
<p>Promise&lt;number&gt; getRefreshFrequency()</p>

<p>Get the recommended refresh/poll frequency in seconds for this device.</p>
<h3 id='refresh-2'>refresh</h3>
<p>Promise&lt;void&gt; refresh(string refreshInterface, boolean userInitiated)</p>

<p>This method is called by Scrypted when the properties of the device need to be refreshed. When the device has completed the refresh, the appropriate DeviceState properties should be set. The parameters provide the specific interface that needs to be refreshed and whether it was user initiated (via UI or voice).</p>
<h2 id='devicestate'>DeviceState</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">DeviceState</span>  <span class="p">{</span>
  <span class="nl">component</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">id</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">interfaces</span><span class="p">:</span> <span class="kr">string</span><span class="p">[];</span>
  <span class="nl">metadata</span><span class="p">:</span> <span class="kr">any</span><span class="p">;</span>
  <span class="nl">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">providedInterfaces</span><span class="p">:</span> <span class="kr">string</span><span class="p">[];</span>
  <span class="nl">providedName</span><span class="p">:</span> <span class="nx">ScryptedDeviceType</span><span class="p">;</span>
  <span class="nl">providedRoom</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">providedType</span><span class="p">:</span> <span class="nx">ScryptedDeviceType</span><span class="p">;</span>
  <span class="nl">providerId</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">room</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">type</span><span class="p">:</span> <span class="nx">ScryptedDeviceType</span><span class="p">;</span>
  <span class="nl">on</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
  <span class="nl">brightness</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">colorTemperature</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">rgb</span><span class="p">:</span> <span class="nx">ColorRgb</span><span class="p">;</span>
  <span class="nl">hsv</span><span class="p">:</span> <span class="nx">ColorHsv</span><span class="p">;</span>
  <span class="nl">running</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
  <span class="nl">paused</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
  <span class="nl">docked</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
  <span class="nl">temperature</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">temperatureUnit</span><span class="p">:</span> <span class="nx">TemperatureUnit</span><span class="p">;</span>
  <span class="nl">humidity</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">thermostatAvailableModes</span><span class="p">:</span> <span class="nx">ThermostatMode</span><span class="p">[];</span>
  <span class="nl">thermostatMode</span><span class="p">:</span> <span class="nx">ThermostatMode</span><span class="p">;</span>
  <span class="nl">thermostatSetpoint</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">thermostatSetpointHigh</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">thermostatSetpointLow</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">lockState</span><span class="p">:</span> <span class="nx">LockState</span><span class="p">;</span>
  <span class="nl">entryOpen</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
  <span class="nl">batteryLevel</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">online</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
  <span class="nl">updateAvailable</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
  <span class="nl">fromMimeType</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">toMimeType</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">binaryState</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
  <span class="nl">intrusionDetected</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
  <span class="nl">powerDetected</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
  <span class="nl">motionDetected</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
  <span class="nl">occupied</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
  <span class="nl">flooded</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
  <span class="nl">ultraviolet</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">luminance</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">position</span><span class="p">:</span> <span class="nx">Position</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">DeviceState</span>  <span class="p">{</span>
  <span class="nl">component</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nl">id</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nl">interfaces</span><span class="p">:</span> <span class="nx">string</span><span class="p">[];</span>
  <span class="nl">metadata</span><span class="p">:</span> <span class="nx">any</span><span class="p">;</span>
  <span class="nl">name</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nl">providedInterfaces</span><span class="p">:</span> <span class="nx">string</span><span class="p">[];</span>
  <span class="nl">providedName</span><span class="p">:</span> <span class="nx">ScryptedDeviceType</span><span class="p">;</span>
  <span class="nl">providedRoom</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nl">providedType</span><span class="p">:</span> <span class="nx">ScryptedDeviceType</span><span class="p">;</span>
  <span class="nl">providerId</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nl">room</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nl">type</span><span class="p">:</span> <span class="nx">ScryptedDeviceType</span><span class="p">;</span>
  <span class="nl">on</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
  <span class="nl">brightness</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
  <span class="nl">colorTemperature</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
  <span class="nl">rgb</span><span class="p">:</span> <span class="nx">ColorRgb</span><span class="p">;</span>
  <span class="nl">hsv</span><span class="p">:</span> <span class="nx">ColorHsv</span><span class="p">;</span>
  <span class="nl">running</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
  <span class="nl">paused</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
  <span class="nl">docked</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
  <span class="nl">temperature</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
  <span class="nl">temperatureUnit</span><span class="p">:</span> <span class="nx">TemperatureUnit</span><span class="p">;</span>
  <span class="nl">humidity</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
  <span class="nl">thermostatAvailableModes</span><span class="p">:</span> <span class="nx">ThermostatMode</span><span class="p">[];</span>
  <span class="nl">thermostatMode</span><span class="p">:</span> <span class="nx">ThermostatMode</span><span class="p">;</span>
  <span class="nl">thermostatSetpoint</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
  <span class="nl">thermostatSetpointHigh</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
  <span class="nl">thermostatSetpointLow</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
  <span class="nl">lockState</span><span class="p">:</span> <span class="nx">LockState</span><span class="p">;</span>
  <span class="nl">entryOpen</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
  <span class="nl">batteryLevel</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
  <span class="nl">online</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
  <span class="nl">updateAvailable</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
  <span class="nl">fromMimeType</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nl">toMimeType</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nl">binaryState</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
  <span class="nl">intrusionDetected</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
  <span class="nl">powerDetected</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
  <span class="nl">motionDetected</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
  <span class="nl">occupied</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
  <span class="nl">flooded</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
  <span class="nl">ultraviolet</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
  <span class="nl">luminance</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
  <span class="nl">position</span><span class="p">:</span> <span class="nx">Position</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<aside class="notice">


DeviceState is returned by DeviceManager.getDeviceState, and allows getting/setting of a device provided by a DeviceProvider.

</aside>
<h3 id='properties-5'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>component</td>
<td>string</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
</tr>
<tr>
<td>interfaces</td>
<td>string[]</td>
</tr>
<tr>
<td>metadata</td>
<td>any</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
</tr>
<tr>
<td>providedInterfaces</td>
<td>string[]</td>
</tr>
<tr>
<td>providedName</td>
<td>ScryptedDeviceType</td>
</tr>
<tr>
<td>providedRoom</td>
<td>string</td>
</tr>
<tr>
<td>providedType</td>
<td>ScryptedDeviceType</td>
</tr>
<tr>
<td>providerId</td>
<td>string</td>
</tr>
<tr>
<td>room</td>
<td>string</td>
</tr>
<tr>
<td>type</td>
<td>ScryptedDeviceType</td>
</tr>
<tr>
<td>on</td>
<td>boolean</td>
</tr>
<tr>
<td>brightness</td>
<td>number</td>
</tr>
<tr>
<td>colorTemperature</td>
<td>number</td>
</tr>
<tr>
<td>rgb</td>
<td><a href='#colorrgb'>ColorRgb</a></td>
</tr>
<tr>
<td>hsv</td>
<td><a href='#colorhsv'>ColorHsv</a></td>
</tr>
<tr>
<td>running</td>
<td>boolean</td>
</tr>
<tr>
<td>paused</td>
<td>boolean</td>
</tr>
<tr>
<td>docked</td>
<td>boolean</td>
</tr>
<tr>
<td>temperature</td>
<td>number</td>
</tr>
<tr>
<td>temperatureUnit</td>
<td><a href='#temperatureunit'>TemperatureUnit</a></td>
</tr>
<tr>
<td>humidity</td>
<td>number</td>
</tr>
<tr>
<td>thermostatAvailableModes</td>
<td><a href='#thermostatmode'>ThermostatMode</a>[]</td>
</tr>
<tr>
<td>thermostatMode</td>
<td><a href='#thermostatmode'>ThermostatMode</a></td>
</tr>
<tr>
<td>thermostatSetpoint</td>
<td>number</td>
</tr>
<tr>
<td>thermostatSetpointHigh</td>
<td>number</td>
</tr>
<tr>
<td>thermostatSetpointLow</td>
<td>number</td>
</tr>
<tr>
<td>lockState</td>
<td><a href='#lockstate'>LockState</a></td>
</tr>
<tr>
<td>entryOpen</td>
<td>boolean</td>
</tr>
<tr>
<td>batteryLevel</td>
<td>number</td>
</tr>
<tr>
<td>online</td>
<td>boolean</td>
</tr>
<tr>
<td>updateAvailable</td>
<td>boolean</td>
</tr>
<tr>
<td>fromMimeType</td>
<td>string</td>
</tr>
<tr>
<td>toMimeType</td>
<td>string</td>
</tr>
<tr>
<td>binaryState</td>
<td>boolean</td>
</tr>
<tr>
<td>intrusionDetected</td>
<td>boolean</td>
</tr>
<tr>
<td>powerDetected</td>
<td>boolean</td>
</tr>
<tr>
<td>motionDetected</td>
<td>boolean</td>
</tr>
<tr>
<td>occupied</td>
<td>boolean</td>
</tr>
<tr>
<td>flooded</td>
<td>boolean</td>
</tr>
<tr>
<td>ultraviolet</td>
<td>number</td>
</tr>
<tr>
<td>luminance</td>
<td>number</td>
</tr>
<tr>
<td>position</td>
<td><a href='#position'>Position</a></td>
</tr>
</tbody></table>
<h1 id='media-reference'>Media Reference</h1><h2 id='mediamanager'>MediaManager</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">MediaManager</span>  <span class="p">{</span>
  <span class="nx">convertMediaObjectToBuffer</span><span class="p">(</span><span class="nx">mediaObject</span><span class="p">:</span> <span class="kr">string</span><span class="o">|</span><span class="nx">MediaObject</span><span class="p">,</span> <span class="nx">toMimeType</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">Buffer</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">convertMediaObjectToInsecureLocalUrl</span><span class="p">(</span><span class="nx">mediaObject</span><span class="p">:</span> <span class="kr">string</span><span class="o">|</span><span class="nx">MediaObject</span><span class="p">,</span> <span class="nx">toMimeType</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="kr">string</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">convertMediaObjectToLocalUrl</span><span class="p">(</span><span class="nx">mediaObject</span><span class="p">:</span> <span class="kr">string</span><span class="o">|</span><span class="nx">MediaObject</span><span class="p">,</span> <span class="nx">toMimeType</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="kr">string</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">convertMediaObjectToUrl</span><span class="p">(</span><span class="nx">mediaObject</span><span class="p">:</span> <span class="kr">string</span><span class="o">|</span><span class="nx">MediaObject</span><span class="p">,</span> <span class="nx">toMimeType</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="kr">string</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">createFFmpegMediaObject</span><span class="p">(</span><span class="nx">ffmpegInput</span><span class="p">:</span> <span class="nx">FFMpegInput</span><span class="p">):</span> <span class="nx">MediaObject</span><span class="p">;</span>
  <span class="nx">createMediaObject</span><span class="p">(</span><span class="nx">data</span><span class="p">:</span> <span class="kr">string</span><span class="o">|</span><span class="nx">Buffer</span><span class="o">|</span><span class="nb">Promise</span><span class="o">&lt;</span><span class="kr">string</span><span class="o">|</span><span class="nx">Buffer</span><span class="o">&gt;</span><span class="p">,</span> <span class="nx">mimeType</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="nx">MediaObject</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">MediaManager</span>  <span class="p">{</span>
  <span class="nx">convertMediaObjectToBuffer</span><span class="p">(</span><span class="nx">mediaObject</span><span class="p">:</span> <span class="nx">string</span><span class="o">|</span><span class="nx">MediaObject</span><span class="p">,</span> <span class="nx">toMimeType</span><span class="p">:</span> <span class="nx">string</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">Buffer</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">convertMediaObjectToInsecureLocalUrl</span><span class="p">(</span><span class="nx">mediaObject</span><span class="p">:</span> <span class="nx">string</span><span class="o">|</span><span class="nx">MediaObject</span><span class="p">,</span> <span class="nx">toMimeType</span><span class="p">:</span> <span class="nx">string</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">string</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">convertMediaObjectToLocalUrl</span><span class="p">(</span><span class="nx">mediaObject</span><span class="p">:</span> <span class="nx">string</span><span class="o">|</span><span class="nx">MediaObject</span><span class="p">,</span> <span class="nx">toMimeType</span><span class="p">:</span> <span class="nx">string</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">string</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">convertMediaObjectToUrl</span><span class="p">(</span><span class="nx">mediaObject</span><span class="p">:</span> <span class="nx">string</span><span class="o">|</span><span class="nx">MediaObject</span><span class="p">,</span> <span class="nx">toMimeType</span><span class="p">:</span> <span class="nx">string</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">string</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">createFFmpegMediaObject</span><span class="p">(</span><span class="nx">ffmpegInput</span><span class="p">:</span> <span class="nx">FFMpegInput</span><span class="p">):</span> <span class="nx">MediaObject</span><span class="p">;</span>
  <span class="nx">createMediaObject</span><span class="p">(</span><span class="nx">data</span><span class="p">:</span> <span class="nx">string</span><span class="o">|</span><span class="nx">Buffer</span><span class="o">|</span><span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">string</span><span class="o">|</span><span class="nx">Buffer</span><span class="o">&gt;</span><span class="p">,</span> <span class="nx">mimeType</span><span class="p">:</span> <span class="nx">string</span><span class="p">):</span> <span class="nx">MediaObject</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>User Script Code</p>
</blockquote>

<pre class="highlight typescript tab-typescript"><code><span class="c1">// In a script that uses a speaker, send a text string to the speaker for playback.</span>
<span class="kd">const</span> <span class="nx">text</span> <span class="o">=</span> <span class="nx">sdk</span><span class="p">.</span><span class="nx">createMediaObject</span><span class="p">(</span><span class="nx">Buffer</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="s1">'The front door is open'</span><span class="p">),</span> <span class="s1">'text/plain'</span><span class="p">);</span>
<span class="nx">speaker</span><span class="p">.</span><span class="nx">load</span><span class="p">(</span><span class="nx">text</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="c1">// In a script that uses a speaker, send a text string to the speaker for playback.</span>
<span class="kr">const</span> <span class="nx">text</span> <span class="o">=</span> <span class="nx">sdk</span><span class="p">.</span><span class="nx">createMediaObject</span><span class="p">(</span><span class="nx">Buffer</span><span class="p">.</span><span class="nx">from</span><span class="p">(</span><span class="s1">'The front door is open'</span><span class="p">),</span> <span class="s1">'text/plain'</span><span class="p">);</span>
<span class="nx">speaker</span><span class="p">.</span><span class="nx">load</span><span class="p">(</span><span class="nx">text</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Speaker Plugin Code</p>
</blockquote>

<pre class="highlight typescript tab-typescript"><code><span class="c1">// In a different plugin that implements the speaker, convert the text string to a</span>
<span class="c1">// publicly accessible audio/wav Uri.</span>
<span class="c1">// "media" is the "text" MediaObject from above.</span>
<span class="kd">var</span> <span class="nx">mediaUrl</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">sdk</span><span class="p">.</span><span class="nx">convertMediaObjectToUri</span><span class="p">(</span><span class="nx">media</span><span class="p">,</span> <span class="s2">"audio/wav"</span><span class="p">);</span>
<span class="nx">playUrl</span><span class="p">(</span><span class="nx">mediaUrl</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="c1">// In a different plugin that implements the speaker, convert the text string to a</span>
<span class="c1">// publicly accessible audio/wav Uri.</span>
<span class="c1">// "media" is the "text" MediaObject from above.</span>
<span class="kd">var</span> <span class="nx">mediaUrl</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">sdk</span><span class="p">.</span><span class="nx">convertMediaObjectToUri</span><span class="p">(</span><span class="nx">media</span><span class="p">,</span> <span class="s2">"audio/wav"</span><span class="p">);</span>
<span class="nx">playUrl</span><span class="p">(</span><span class="nx">mediaUrl</span><span class="p">);</span>
</code></pre>

<p>MediaObjects are an interstial representation of any media that flows through the Scrypted platform. Devices generally
are not concerned about the source type of the media, but need the media to be converted into
a type is compatible with the device. For example, a user may want to send text to a speaker for playback.
The speaker is not aware of the source media type, and only needs it to be converted into an audio url.</p>
<h3 id='convertmediaobjecttobuffer'>convertMediaObjectToBuffer</h3>
<p>Promise&lt;Buffer&gt; convertMediaObjectToBuffer(string|<a href='#mediaobject'>MediaObject</a> mediaObject, string toMimeType)</p>

<p>Convert a media object to a Buffer of the given mime type.</p>
<h3 id='convertmediaobjecttoinsecurelocalurl'>convertMediaObjectToInsecureLocalUrl</h3>
<p>Promise&lt;string&gt; convertMediaObjectToInsecureLocalUrl(string|<a href='#mediaobject'>MediaObject</a> mediaObject, string toMimeType)</p>

<p>Convert a media object to a locally accessible URL that serves a media file of the given mime type. If the media object is an externally accessible URL, that will be returned.</p>
<h3 id='convertmediaobjecttolocalurl'>convertMediaObjectToLocalUrl</h3>
<p>Promise&lt;string&gt; convertMediaObjectToLocalUrl(string|<a href='#mediaobject'>MediaObject</a> mediaObject, string toMimeType)</p>

<p>Convert a media object to a locally accessible URL that serves a media file of the given mime type. If the media object is an externally accessible URL, that will be returned.</p>
<h3 id='convertmediaobjecttourl'>convertMediaObjectToUrl</h3>
<p>Promise&lt;string&gt; convertMediaObjectToUrl(string|<a href='#mediaobject'>MediaObject</a> mediaObject, string toMimeType)</p>

<p>Convert a media object to a publically accessible URL that serves a media file of the given mime type.</p>
<h3 id='createffmpegmediaobject'>createFFmpegMediaObject</h3>
<p><a href='#mediaobject'>MediaObject</a> createFFmpegMediaObject(<a href='#ffmpeginput'>FFMpegInput</a> ffmpegInput)</p>

<p>Create a MediaObject. The media will be created from the provided FFmpeg input arguments.</p>
<h3 id='createmediaobject'>createMediaObject</h3>
<p><a href='#mediaobject'>MediaObject</a> createMediaObject(string|Buffer|Promise&lt;string|Buffer&gt; data, string mimeType)</p>

<p>Create a MediaObject. The mime type needs to be provided up front, but the data can be a URL string, Buffer, or a Promise for a URL string or Buffer.</p>
<h2 id='mediaobject'>MediaObject</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">MediaObject</span>  <span class="p">{</span>
  <span class="nl">mimeType</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">MediaObject</span>  <span class="p">{</span>
  <span class="nl">mimeType</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<aside class="notice">

Used by <a href='#notifier'>Notifier</a>.


MediaObject is an intermediate object within Scrypted to represent all media objects. Plugins should use the MediaConverter to convert the Scrypted MediaObject into a desired type, whether it is a externally accessible URL, a Buffer, etc.

</aside>
<h3 id='properties-6'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>mimeType</td>
<td>string</td>
</tr>
</tbody></table>
<h1 id='webhook-and-push-reference'>Webhook and Push Reference</h1><h2 id='endpointmanager'>EndpointManager</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">EndpointManager</span>  <span class="p">{</span>
  <span class="nx">getAuthenticatedPath</span><span class="p">():</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="kr">string</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">getAuthenticatedPath</span><span class="p">(</span><span class="nx">nativeId</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="kr">string</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">getInsecurePublicLocalEndpoint</span><span class="p">():</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="kr">string</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">getInsecurePublicLocalEndpoint</span><span class="p">(</span><span class="nx">nativeId</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="kr">string</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">getPublicCloudEndpoint</span><span class="p">():</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="kr">string</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">getPublicCloudEndpoint</span><span class="p">(</span><span class="nx">nativeId</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="kr">string</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">getPublicLocalEndpoint</span><span class="p">():</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="kr">string</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">getPublicLocalEndpoint</span><span class="p">(</span><span class="nx">nativeId</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="kr">string</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">getPublicPushEndpoint</span><span class="p">():</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="kr">string</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">getPublicPushEndpoint</span><span class="p">(</span><span class="nx">nativeId</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="kr">string</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">EndpointManager</span>  <span class="p">{</span>
  <span class="nx">getAuthenticatedPath</span><span class="p">():</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">string</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">getAuthenticatedPath</span><span class="p">(</span><span class="nx">nativeId</span><span class="p">:</span> <span class="nx">string</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">string</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">getInsecurePublicLocalEndpoint</span><span class="p">():</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">string</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">getInsecurePublicLocalEndpoint</span><span class="p">(</span><span class="nx">nativeId</span><span class="p">:</span> <span class="nx">string</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">string</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">getPublicCloudEndpoint</span><span class="p">():</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">string</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">getPublicCloudEndpoint</span><span class="p">(</span><span class="nx">nativeId</span><span class="p">:</span> <span class="nx">string</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">string</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">getPublicLocalEndpoint</span><span class="p">():</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">string</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">getPublicLocalEndpoint</span><span class="p">(</span><span class="nx">nativeId</span><span class="p">:</span> <span class="nx">string</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">string</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">getPublicPushEndpoint</span><span class="p">():</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">string</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">getPublicPushEndpoint</span><span class="p">(</span><span class="nx">nativeId</span><span class="p">:</span> <span class="nx">string</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">string</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<aside class="notice">


EndpointManager provides publicly accessible URLs that can be used to contact your Scrypted Plugin.

</aside>
<h3 id='getauthenticatedpath'>getAuthenticatedPath</h3>
<p>Promise&lt;string&gt; getAuthenticatedPath()</p>

<p>Get an URL pathname that can be accessed on your local network or cloud while authenticated. This is an absolute path that requires cookie authentication, and generally used only in browser contexts.</p>
<h3 id='getauthenticatedpath-2'>getAuthenticatedPath</h3>
<p>Promise&lt;string&gt; getAuthenticatedPath(string nativeId)</p>

<p>Get an URL pathname that can be accessed on your local network or cloud while authenticated. This is an absolute path that requires cookie authentication, and generally used only in browser contexts.</p>
<h3 id='getinsecurepubliclocalendpoint'>getInsecurePublicLocalEndpoint</h3>
<p>Promise&lt;string&gt; getInsecurePublicLocalEndpoint()</p>

<p>Get an URL that can only be accessed on your local network by anyone with the link. HTTP requests and responses are without any encryption. Plugin implementation is responsible for authentication.</p>
<h3 id='getinsecurepubliclocalendpoint-2'>getInsecurePublicLocalEndpoint</h3>
<p>Promise&lt;string&gt; getInsecurePublicLocalEndpoint(string nativeId)</p>

<p>Get an URL that can only be accessed on your local network by anyone with the link. HTTP requests and responses are without any encryption. Plugin implementation is responsible for authentication.</p>
<h3 id='getpubliccloudendpoint'>getPublicCloudEndpoint</h3>
<p>Promise&lt;string&gt; getPublicCloudEndpoint()</p>

<p>Get an URL that can be externally accessed by anyone with the link. Plugin implementation is responsible for authentication.</p>
<h3 id='getpubliccloudendpoint-2'>getPublicCloudEndpoint</h3>
<p>Promise&lt;string&gt; getPublicCloudEndpoint(string nativeId)</p>

<p>Get an URL that can be externally accessed by anyone with the link. Plugin implementation is responsible for authentication.</p>
<h3 id='getpubliclocalendpoint'>getPublicLocalEndpoint</h3>
<p>Promise&lt;string&gt; getPublicLocalEndpoint()</p>

<p>Get an URL that can only be accessed on your local network by anyone with the link. HTTP requests and responses are over SSL with a self signed certificate. Plugin implementation is responsible for authentication.</p>
<h3 id='getpubliclocalendpoint-2'>getPublicLocalEndpoint</h3>
<p>Promise&lt;string&gt; getPublicLocalEndpoint(string nativeId)</p>

<p>Get an URL that can only be accessed on your local network by anyone with the link. HTTP requests and responses are over SSL with a self signed certificate. Plugin implementation is responsible for authentication.</p>
<h3 id='getpublicpushendpoint'>getPublicPushEndpoint</h3>
<p>Promise&lt;string&gt; getPublicPushEndpoint()</p>

<p>Get an URL that can be used to send a push message to the client. This differs from a cloud endpoint, in that, the Plugin does not send a response back. Plugin implementation is responsible for authentication.</p>
<h3 id='getpublicpushendpoint-2'>getPublicPushEndpoint</h3>
<p>Promise&lt;string&gt; getPublicPushEndpoint(string nativeId)</p>

<p>Get an URL that can be used to send a push message to the client. This differs from a cloud endpoint, in that, the Plugin does not send a response back. Plugin implementation is responsible for authentication.</p>
<h2 id='httprequesthandler'>HttpRequestHandler</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">HttpRequestHandler</span>  <span class="p">{</span>
  <span class="nx">onRequest</span><span class="p">(</span><span class="nx">request</span><span class="p">:</span> <span class="nx">HttpRequest</span><span class="p">,</span> <span class="nx">response</span><span class="p">:</span> <span class="nx">HttpResponse</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">HttpRequestHandler</span>  <span class="p">{</span>
  <span class="nx">onRequest</span><span class="p">(</span><span class="nx">request</span><span class="p">:</span> <span class="nx">HttpRequest</span><span class="p">,</span> <span class="nx">response</span><span class="p">:</span> <span class="nx">HttpResponse</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Example</p>
</blockquote>

<pre class="highlight typescript tab-typescript"><code><span class="kr">class</span> <span class="nx">HttpHandler</span> <span class="k">implements</span> <span class="nx">HttpRequestHnadler</span> <span class="p">{</span>
    <span class="c1">// See documentation! </span>
    <span class="c1">// Will handle requests at https://&lt;local-ip&gt;:9443/endpoint/test/ (or /endpoint/@koush/test)</span>
    <span class="nx">getEndpoint</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s1">'test'</span><span class="p">;</span>
        <span class="c1">// or, an npm user/org namespace works as well:</span>
        <span class="c1">// return '@koush/test';</span>
    <span class="p">}</span>
    <span class="nx">onRequest</span><span class="p">(</span><span class="nx">request</span><span class="p">:</span> <span class="nx">HttpRequest</span><span class="p">,</span> <span class="nx">response</span><span class="p">:</span> <span class="nx">HttpResponse</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">response</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'hello world!!'</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="k">new</span> <span class="nx">HttpHandler</span><span class="p">();</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">class</span> <span class="nx">HttpHandler</span> <span class="p">{</span>
    <span class="c1">// See documentation! </span>
    <span class="c1">// Will handle requests at https://&lt;local-ip&gt;:9443/endpoint/test/ (or /endpoint/@koush/test)</span>
    <span class="nx">getEndpoint</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s1">'test'</span><span class="p">;</span>
        <span class="c1">// or, an npm user/org namespace works as well:</span>
        <span class="c1">// return '@koush/test';</span>
    <span class="p">}</span>
    <span class="nx">onRequest</span><span class="p">(</span><span class="nx">request</span><span class="p">,</span> <span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">response</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'hello world!!'</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="kr">export</span> <span class="k">default</span> <span class="k">new</span> <span class="nx">HttpHandler</span><span class="p">();</span>
</code></pre>

<aside class="notice">


The HttpRequestHandler allows handling of web requests under the endpoint path: /endpoint/npm-package-name/*.

</aside>
<h3 id='onrequest'>onRequest</h3>
<p>Promise&lt;void&gt; onRequest(<a href='#httprequest'>HttpRequest</a> request, <a href='#httpresponse'>HttpResponse</a> response)</p>

<p>Callback to handle an incoming request.</p>
<h2 id='pushhandler'>PushHandler</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">PushHandler</span>  <span class="p">{</span>
  <span class="nx">onPush</span><span class="p">(</span><span class="nx">request</span><span class="p">:</span> <span class="nx">HttpRequest</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">PushHandler</span>  <span class="p">{</span>
  <span class="nx">onPush</span><span class="p">(</span><span class="nx">request</span><span class="p">:</span> <span class="nx">HttpRequest</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><h3 id='onpush'>onPush</h3>
<p>Promise&lt;void&gt; onPush(<a href='#httprequest'>HttpRequest</a> request)</p>

<p>Callback to handle an incoming push.</p>
<h2 id='httprequest'>HttpRequest</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">HttpRequest</span>  <span class="p">{</span>
  <span class="nl">body</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">headers</span><span class="p">:</span> <span class="nx">object</span><span class="p">;</span>
  <span class="nl">isPublicEndpoint</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
  <span class="nl">method</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">rootPath</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">url</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">username</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">HttpRequest</span>  <span class="p">{</span>
  <span class="nl">body</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nl">headers</span><span class="p">:</span> <span class="nx">object</span><span class="p">;</span>
  <span class="nl">isPublicEndpoint</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
  <span class="nl">method</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nl">rootPath</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nl">url</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nl">username</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<aside class="notice">

Used by <a href='#httprequesthandler'>HttpRequestHandler</a>.


</aside>
<h3 id='properties-7'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>body</td>
<td>string</td>
</tr>
<tr>
<td>headers</td>
<td>object</td>
</tr>
<tr>
<td>isPublicEndpoint</td>
<td>boolean</td>
</tr>
<tr>
<td>method</td>
<td>string</td>
</tr>
<tr>
<td>rootPath</td>
<td>string</td>
</tr>
<tr>
<td>url</td>
<td>string</td>
</tr>
<tr>
<td>username</td>
<td>string</td>
</tr>
</tbody></table>
<h2 id='httpresponse'>HttpResponse</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">HttpResponse</span>  <span class="p">{</span>
  <span class="nx">send</span><span class="p">(</span><span class="nx">body</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="k">void</span><span class="p">;</span>
  <span class="nx">send</span><span class="p">(</span><span class="nx">body</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="nx">options</span><span class="p">:</span> <span class="nx">HttpResponseOptions</span><span class="p">):</span> <span class="k">void</span><span class="p">;</span>
  <span class="nx">send</span><span class="p">(</span><span class="nx">body</span><span class="p">:</span> <span class="nx">Buffer</span><span class="p">):</span> <span class="k">void</span><span class="p">;</span>
  <span class="nx">send</span><span class="p">(</span><span class="nx">body</span><span class="p">:</span> <span class="nx">Buffer</span><span class="p">,</span> <span class="nx">options</span><span class="p">:</span> <span class="nx">HttpResponseOptions</span><span class="p">):</span> <span class="k">void</span><span class="p">;</span>
  <span class="nx">sendFile</span><span class="p">(</span><span class="nx">path</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="k">void</span><span class="p">;</span>
  <span class="nx">sendFile</span><span class="p">(</span><span class="nx">path</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="nx">options</span><span class="p">:</span> <span class="nx">HttpResponseOptions</span><span class="p">):</span> <span class="k">void</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">HttpResponse</span>  <span class="p">{</span>
  <span class="nx">send</span><span class="p">(</span><span class="nx">body</span><span class="p">:</span> <span class="nx">string</span><span class="p">):</span> <span class="k">void</span><span class="p">;</span>
  <span class="nx">send</span><span class="p">(</span><span class="nx">body</span><span class="p">:</span> <span class="nx">string</span><span class="p">,</span> <span class="nx">options</span><span class="p">:</span> <span class="nx">HttpResponseOptions</span><span class="p">):</span> <span class="k">void</span><span class="p">;</span>
  <span class="nx">send</span><span class="p">(</span><span class="nx">body</span><span class="p">:</span> <span class="nx">Buffer</span><span class="p">):</span> <span class="k">void</span><span class="p">;</span>
  <span class="nx">send</span><span class="p">(</span><span class="nx">body</span><span class="p">:</span> <span class="nx">Buffer</span><span class="p">,</span> <span class="nx">options</span><span class="p">:</span> <span class="nx">HttpResponseOptions</span><span class="p">):</span> <span class="k">void</span><span class="p">;</span>
  <span class="nx">sendFile</span><span class="p">(</span><span class="nx">path</span><span class="p">:</span> <span class="nx">string</span><span class="p">):</span> <span class="k">void</span><span class="p">;</span>
  <span class="nx">sendFile</span><span class="p">(</span><span class="nx">path</span><span class="p">:</span> <span class="nx">string</span><span class="p">,</span> <span class="nx">options</span><span class="p">:</span> <span class="nx">HttpResponseOptions</span><span class="p">):</span> <span class="k">void</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<aside class="notice">

Used by <a href='#httprequesthandler'>HttpRequestHandler</a>.


Response object provided by the HttpRequestHandler.

</aside>
<h3 id='send'>send</h3>
<p>void send(string body)</p>
<h3 id='send-2'>send</h3>
<p>void send(string body, <a href='#httpresponseoptions'>HttpResponseOptions</a> options)</p>
<h3 id='send-3'>send</h3>
<p>void send(Buffer body)</p>
<h3 id='send-4'>send</h3>
<p>void send(Buffer body, <a href='#httpresponseoptions'>HttpResponseOptions</a> options)</p>
<h3 id='sendfile'>sendFile</h3>
<p>void sendFile(string path)</p>
<h3 id='sendfile-2'>sendFile</h3>
<p>void sendFile(string path, <a href='#httpresponseoptions'>HttpResponseOptions</a> options)</p>
<h2 id='httpresponseoptions'>HttpResponseOptions</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">HttpResponseOptions</span>  <span class="p">{</span>
  <span class="nl">code</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">headers</span><span class="p">:</span> <span class="nx">object</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">HttpResponseOptions</span>  <span class="p">{</span>
  <span class="nl">code</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
  <span class="nl">headers</span><span class="p">:</span> <span class="nx">object</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<aside class="notice">

Used by <a href='#httpresponse'>HttpResponse</a>.


</aside>
<h3 id='properties-8'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>number</td>
</tr>
<tr>
<td>headers</td>
<td>object</td>
</tr>
</tbody></table>
<h1 id='android-intent-reference'>Android Intent Reference</h1><h2 id='android'>Android</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">Android</span>  <span class="p">{</span>
  <span class="nx">newIntent</span><span class="p">():</span> <span class="nx">Intent</span><span class="p">;</span>
  <span class="nx">sendBroadcast</span><span class="p">(</span><span class="nx">intent</span><span class="p">:</span> <span class="nx">Intent</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">startActivity</span><span class="p">(</span><span class="nx">intent</span><span class="p">:</span> <span class="nx">Intent</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">startService</span><span class="p">(</span><span class="nx">intent</span><span class="p">:</span> <span class="nx">Intent</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">Android</span>  <span class="p">{</span>
  <span class="nx">newIntent</span><span class="p">():</span> <span class="nx">Intent</span><span class="p">;</span>
  <span class="nx">sendBroadcast</span><span class="p">(</span><span class="nx">intent</span><span class="p">:</span> <span class="nx">Intent</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">startActivity</span><span class="p">(</span><span class="nx">intent</span><span class="p">:</span> <span class="nx">Intent</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">startService</span><span class="p">(</span><span class="nx">intent</span><span class="p">:</span> <span class="nx">Intent</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<aside class="notice">


Android provides limited access to the Android system, to send Intents to other applications, such as Tasker. See Android SDK documentation for more information.

</aside>
<h3 id='newintent'>newIntent</h3>
<p>Intent newIntent()</p>

<p>Create a new Intent. Use one of the send methods to send broadcasts, start activities, or start services.</p>
<h3 id='sendbroadcast'>sendBroadcast</h3>
<p>Promise&lt;void&gt; sendBroadcast(Intent intent)</p>
<h3 id='startactivity'>startActivity</h3>
<p>Promise&lt;void&gt; startActivity(Intent intent)</p>
<h3 id='startservice'>startService</h3>
<p>Promise&lt;void&gt; startService(Intent intent)</p>
<h1 id='device-interface-reference'>Device Interface Reference</h1><h2 id='eventlisteneroptions'>EventListenerOptions</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">EventListenerOptions</span>  <span class="p">{</span>
  <span class="nl">denoise</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
  <span class="nl">event</span><span class="p">:</span> <span class="nx">ScryptedInterface</span><span class="o">|</span><span class="kr">string</span><span class="p">;</span>
  <span class="nl">watch</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">EventListenerOptions</span>  <span class="p">{</span>
  <span class="nl">denoise</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
  <span class="nl">event</span><span class="p">:</span> <span class="nx">ScryptedInterface</span><span class="o">|</span><span class="nx">string</span><span class="p">;</span>
  <span class="nl">watch</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<aside class="notice">

Used by <a href='#scrypteddevice'>ScryptedDevice</a>.


</aside>
<h3 id='properties-9'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>denoise</td>
<td>boolean</td>
</tr>
<tr>
<td>event</td>
<td>ScryptedInterface</td>
</tr>
<tr>
<td>watch</td>
<td>boolean</td>
</tr>
</tbody></table>
<h2 id='eventdetails'>EventDetails</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">EventDetails</span>  <span class="p">{</span>
  <span class="nl">changed</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
  <span class="nl">eventInterface</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">eventTime</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">property</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">EventDetails</span>  <span class="p">{</span>
  <span class="nl">changed</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
  <span class="nl">eventInterface</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nl">eventTime</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
  <span class="nl">property</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<aside class="notice">

Used by <a href='#eventlistener'>EventListener</a>.


</aside>
<h3 id='properties-10'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>changed</td>
<td>boolean</td>
</tr>
<tr>
<td>eventInterface</td>
<td>string</td>
</tr>
<tr>
<td>eventTime</td>
<td>number</td>
</tr>
<tr>
<td>property</td>
<td>string</td>
</tr>
</tbody></table>
<h2 id='onoff'>OnOff</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">OnOff</span>  <span class="p">{</span>
  <span class="nl">on</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>

  <span class="nx">turnOff</span><span class="p">():</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">turnOn</span><span class="p">():</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">OnOff</span>  <span class="p">{</span>
  <span class="nl">on</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>

  <span class="nx">turnOff</span><span class="p">():</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">turnOn</span><span class="p">():</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Example</p>
</blockquote>

<pre class="highlight typescript tab-typescript"><code><span class="c1">// Toggle an OnOff device</span>
<span class="k">if</span> <span class="p">(</span><span class="k">switch</span><span class="p">.</span><span class="nx">on</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">switch</span><span class="p">.</span><span class="nx">turnOff</span><span class="p">();</span>
<span class="p">}</span>
<span class="k">else</span> <span class="p">{</span>
    <span class="k">switch</span><span class="p">.</span><span class="nx">turnOn</span><span class="p">();</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="c1">// Toggle an OnOff device</span>
<span class="k">if</span> <span class="p">(</span><span class="k">switch</span><span class="p">.</span><span class="nx">on</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">switch</span><span class="p">.</span><span class="nx">turnOff</span><span class="p">();</span>
<span class="p">}</span>
<span class="k">else</span> <span class="p">{</span>
    <span class="k">switch</span><span class="p">.</span><span class="nx">turnOn</span><span class="p">();</span>
<span class="p">}</span>
</code></pre>

<aside class="notice">


OnOff is a basic binary switch.

</aside>
<h3 id='properties-11'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>on</td>
<td>boolean</td>
</tr>
</tbody></table>
<h3 id='turnoff'>turnOff</h3>
<p>Promise&lt;void&gt; turnOff()</p>
<h3 id='turnon'>turnOn</h3>
<p>Promise&lt;void&gt; turnOn()</p>
<h2 id='brightness'>Brightness</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">Brightness</span>  <span class="p">{</span>
  <span class="nl">brightness</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>

  <span class="nx">setBrightness</span><span class="p">(</span><span class="nx">brightness</span><span class="p">:</span> <span class="kr">number</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">Brightness</span>  <span class="p">{</span>
  <span class="nl">brightness</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>

  <span class="nx">setBrightness</span><span class="p">(</span><span class="nx">brightness</span><span class="p">:</span> <span class="nx">number</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Example</p>
</blockquote>

<pre class="highlight typescript tab-typescript"><code><span class="c1">// Set a Brightness device to 50%</span>
<span class="nx">dimmer</span><span class="p">.</span><span class="nx">setLevel</span><span class="p">(</span><span class="mi">50</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="c1">// Set a Brightness device to 50%</span>
<span class="nx">dimmer</span><span class="p">.</span><span class="nx">setLevel</span><span class="p">(</span><span class="mi">50</span><span class="p">);</span>
</code></pre>

<aside class="notice">


Brightness is a lighting device that can be dimmed/lit between 0 to 100.

</aside>
<h3 id='properties-12'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>brightness</td>
<td>number</td>
</tr>
</tbody></table>
<h3 id='setbrightness'>setBrightness</h3>
<p>Promise&lt;void&gt; setBrightness(number brightness)</p>
<h2 id='colorsettingtemperature'>ColorSettingTemperature</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">ColorSettingTemperature</span>  <span class="p">{</span>
  <span class="nl">colorTemperature</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>

  <span class="nx">getTemperatureMaxK</span><span class="p">():</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="kr">number</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">getTemperatureMinK</span><span class="p">():</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="kr">number</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">setColorTemperature</span><span class="p">(</span><span class="nx">kelvin</span><span class="p">:</span> <span class="kr">number</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">ColorSettingTemperature</span>  <span class="p">{</span>
  <span class="nl">colorTemperature</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>

  <span class="nx">getTemperatureMaxK</span><span class="p">():</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">number</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">getTemperatureMinK</span><span class="p">():</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">number</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">setColorTemperature</span><span class="p">(</span><span class="nx">kelvin</span><span class="p">:</span> <span class="nx">number</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Example</p>
</blockquote>

<pre class="highlight typescript tab-typescript"><code><span class="c1">// set a bulb to 2500 Kelvin</span>
<span class="nx">bulb</span><span class="p">.</span><span class="nx">setTemperature</span><span class="p">(</span><span class="mi">2500</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="c1">// set a bulb to 2500 Kelvin</span>
<span class="nx">bulb</span><span class="p">.</span><span class="nx">setTemperature</span><span class="p">(</span><span class="mi">2500</span><span class="p">);</span>
</code></pre>

<aside class="notice">


ColorSettingTemperature sets the color temperature of a light in Kelvin.

</aside>
<h3 id='properties-13'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>colorTemperature</td>
<td>number</td>
</tr>
</tbody></table>
<h3 id='gettemperaturemaxk'>getTemperatureMaxK</h3>
<p>Promise&lt;number&gt; getTemperatureMaxK()</p>
<h3 id='gettemperaturemink'>getTemperatureMinK</h3>
<p>Promise&lt;number&gt; getTemperatureMinK()</p>
<h3 id='setcolortemperature'>setColorTemperature</h3>
<p>Promise&lt;void&gt; setColorTemperature(number kelvin)</p>
<h2 id='colorsettingrgb'>ColorSettingRgb</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">ColorSettingRgb</span>  <span class="p">{</span>
  <span class="nl">rgb</span><span class="p">:</span> <span class="nx">ColorRgb</span><span class="p">;</span>

  <span class="nx">setRgb</span><span class="p">(</span><span class="nx">r</span><span class="p">:</span> <span class="kr">number</span><span class="p">,</span> <span class="nx">g</span><span class="p">:</span> <span class="kr">number</span><span class="p">,</span> <span class="nx">b</span><span class="p">:</span> <span class="kr">number</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">ColorSettingRgb</span>  <span class="p">{</span>
  <span class="nl">rgb</span><span class="p">:</span> <span class="nx">ColorRgb</span><span class="p">;</span>

  <span class="nx">setRgb</span><span class="p">(</span><span class="nx">r</span><span class="p">:</span> <span class="nx">number</span><span class="p">,</span> <span class="nx">g</span><span class="p">:</span> <span class="nx">number</span><span class="p">,</span> <span class="nx">b</span><span class="p">:</span> <span class="nx">number</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Example</p>
</blockquote>

<pre class="highlight typescript tab-typescript"><code><span class="c1">// set the color to red on a ColorSettingRgb device</span>
<span class="nx">colorBulb</span><span class="p">.</span><span class="nx">setRgb</span><span class="p">({</span>
    <span class="na">r</span><span class="p">:</span> <span class="mi">255</span><span class="p">,</span>
    <span class="na">g</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">b</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">})</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="c1">// set the color to red on a ColorSettingRgb device</span>
<span class="nx">colorBulb</span><span class="p">.</span><span class="nx">setRgb</span><span class="p">({</span>
    <span class="na">r</span><span class="p">:</span> <span class="mi">255</span><span class="p">,</span>
    <span class="na">g</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">b</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">})</span>
</code></pre>

<aside class="notice">


ColorSettingRgb sets the color of a colored light using the RGB representation.

</aside>
<h3 id='properties-14'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>rgb</td>
<td><a href='#colorrgb'>ColorRgb</a></td>
</tr>
</tbody></table>
<h3 id='setrgb'>setRgb</h3>
<p>Promise&lt;void&gt; setRgb(number r, number g, number b)</p>
<h2 id='colorrgb'>ColorRgb</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">ColorRgb</span>  <span class="p">{</span>
  <span class="nl">b</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">g</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">r</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">ColorRgb</span>  <span class="p">{</span>
  <span class="nl">b</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
  <span class="nl">g</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
  <span class="nl">r</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<aside class="notice">

Used by <a href='#colorsettingrgb'>ColorSettingRgb</a>.


Represents an RGB color with component values between 0 and 255.

</aside>
<h3 id='properties-15'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>b</td>
<td>number</td>
</tr>
<tr>
<td>g</td>
<td>number</td>
</tr>
<tr>
<td>r</td>
<td>number</td>
</tr>
</tbody></table>
<h2 id='colorsettinghsv'>ColorSettingHsv</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">ColorSettingHsv</span>  <span class="p">{</span>
  <span class="nl">hsv</span><span class="p">:</span> <span class="nx">ColorHsv</span><span class="p">;</span>

  <span class="nx">setHsv</span><span class="p">(</span><span class="nx">hue</span><span class="p">:</span> <span class="kr">number</span><span class="p">,</span> <span class="nx">saturation</span><span class="p">:</span> <span class="kr">number</span><span class="p">,</span> <span class="nx">value</span><span class="p">:</span> <span class="kr">number</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">ColorSettingHsv</span>  <span class="p">{</span>
  <span class="nl">hsv</span><span class="p">:</span> <span class="nx">ColorHsv</span><span class="p">;</span>

  <span class="nx">setHsv</span><span class="p">(</span><span class="nx">hue</span><span class="p">:</span> <span class="nx">number</span><span class="p">,</span> <span class="nx">saturation</span><span class="p">:</span> <span class="nx">number</span><span class="p">,</span> <span class="nx">value</span><span class="p">:</span> <span class="nx">number</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Example</p>
</blockquote>

<pre class="highlight typescript tab-typescript"><code><span class="c1">// set the color to red on a ColorSettingHsv device</span>
<span class="nx">colorBulb</span><span class="p">.</span><span class="nx">setHsv</span><span class="p">({</span>
    <span class="na">h</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">s</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">v</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">})</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="c1">// set the color to red on a ColorSettingHsv device</span>
<span class="nx">colorBulb</span><span class="p">.</span><span class="nx">setHsv</span><span class="p">({</span>
    <span class="na">h</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">s</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">v</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">})</span>
</code></pre>

<aside class="notice">


ColorSettingHsv sets the color of a colored light using the HSV representation.

</aside>
<h3 id='properties-16'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>hsv</td>
<td><a href='#colorhsv'>ColorHsv</a></td>
</tr>
</tbody></table>
<h3 id='sethsv'>setHsv</h3>
<p>Promise&lt;void&gt; setHsv(number hue, number saturation, number value)</p>
<h2 id='colorhsv'>ColorHsv</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">ColorHsv</span>  <span class="p">{</span>
  <span class="nl">h</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">s</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">v</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">ColorHsv</span>  <span class="p">{</span>
  <span class="nl">h</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
  <span class="nl">s</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
  <span class="nl">v</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<aside class="notice">

Used by <a href='#colorsettinghsv'>ColorSettingHsv</a>.


Represents an HSV color value component.

</aside>
<h3 id='properties-17'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>h</td>
<td>number</td>
</tr>
<tr>
<td>s</td>
<td>number</td>
</tr>
<tr>
<td>v</td>
<td>number</td>
</tr>
</tbody></table>
<h2 id='notifier'>Notifier</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">Notifier</span>  <span class="p">{</span>
  <span class="nx">sendNotification</span><span class="p">(</span><span class="nx">title</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="nx">body</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="nx">media</span><span class="p">:</span> <span class="kr">string</span><span class="o">|</span><span class="nx">MediaObject</span><span class="p">,</span> <span class="nx">mimeType</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">Notifier</span>  <span class="p">{</span>
  <span class="nx">sendNotification</span><span class="p">(</span><span class="nx">title</span><span class="p">:</span> <span class="nx">string</span><span class="p">,</span> <span class="nx">body</span><span class="p">:</span> <span class="nx">string</span><span class="p">,</span> <span class="nx">media</span><span class="p">:</span> <span class="nx">string</span><span class="o">|</span><span class="nx">MediaObject</span><span class="p">,</span> <span class="nx">mimeType</span><span class="p">:</span> <span class="nx">string</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Example</p>
</blockquote>

<pre class="highlight typescript tab-typescript"><code><span class="c1">// SMS with only text</span>
<span class="nx">twilioNumber</span><span class="p">.</span><span class="nx">sendNotification</span><span class="p">(</span><span class="s1">'Alert!'</span><span class="p">,</span> <span class="s1">'Something Happened!'</span><span class="p">);</span>

<span class="c1">// MMS with image</span>
<span class="nx">twilioNumber</span><span class="p">.</span><span class="nx">sendNotification</span><span class="p">(</span><span class="s1">'Alert!'</span><span class="p">,</span> <span class="s1">'Something Happened!'</span><span class="p">,</span> <span class="s1">'http://example.org/image.png'</span><span class="p">,</span> <span class="s1">'image/png'</span><span class="p">);</span>

<span class="c1">// text to speech on speakers</span>
<span class="nx">googleHomeSpeaker</span><span class="p">.</span><span class="nx">sendNotification</span><span class="p">(</span><span class="s1">'Title is not not transcribed'</span><span class="p">,</span> <span class="s1">'Something Happened!'</span><span class="p">);</span>

<span class="c1">// cast to chromecast</span>
<span class="nx">twilioNumber</span><span class="p">.</span><span class="nx">sendNotification</span><span class="p">(</span><span class="s1">'Alert!'</span><span class="p">,</span> <span class="s1">'Something Happened!'</span><span class="p">,</span> <span class="s1">'http://example.org/video.mp4'</span><span class="p">,</span> <span class="s1">'video'</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="c1">// SMS with only text</span>
<span class="nx">twilioNumber</span><span class="p">.</span><span class="nx">sendNotification</span><span class="p">(</span><span class="s1">'Alert!'</span><span class="p">,</span> <span class="s1">'Something Happened!'</span><span class="p">);</span>

<span class="c1">// MMS with image</span>
<span class="nx">twilioNumber</span><span class="p">.</span><span class="nx">sendNotification</span><span class="p">(</span><span class="s1">'Alert!'</span><span class="p">,</span> <span class="s1">'Something Happened!'</span><span class="p">,</span> <span class="s1">'http://example.org/image.png'</span><span class="p">,</span> <span class="s1">'image/png'</span><span class="p">);</span>

<span class="c1">// text to speech on speakers</span>
<span class="nx">googleHomeSpeaker</span><span class="p">.</span><span class="nx">sendNotification</span><span class="p">(</span><span class="s1">'Title is not not transcribed'</span><span class="p">,</span> <span class="s1">'Something Happened!'</span><span class="p">);</span>

<span class="c1">// cast to chromecast</span>
<span class="nx">twilioNumber</span><span class="p">.</span><span class="nx">sendNotification</span><span class="p">(</span><span class="s1">'Alert!'</span><span class="p">,</span> <span class="s1">'Something Happened!'</span><span class="p">,</span> <span class="s1">'http://example.org/video.mp4'</span><span class="p">,</span> <span class="s1">'video'</span><span class="p">);</span>
</code></pre>

<aside class="notice">


Notifier can be any endpoint that can receive messages, such as speakers, phone numbers, messaging clients, etc. The messages may optionally contain media.

</aside>
<h3 id='sendnotification'>sendNotification</h3>
<p>Promise&lt;void&gt; sendNotification(string title, string body, string|<a href='#mediaobject'>MediaObject</a> media, string mimeType)</p>

<p>If a the media parameter is supplied, the mime type denotes how to send the media within notification. For example, specify &#39;image/*&#39; to send a video MediaObject as an image.
Passing null uses the native type of the MediaObject. If that is not supported by the notifier, the media will be converted to a compatible type.</p>
<h2 id='startstop'>StartStop</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">StartStop</span>  <span class="p">{</span>
  <span class="nl">running</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>

  <span class="nx">start</span><span class="p">():</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">stop</span><span class="p">():</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">StartStop</span>  <span class="p">{</span>
  <span class="nl">running</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>

  <span class="nx">start</span><span class="p">():</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">stop</span><span class="p">():</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Example</p>
</blockquote>

<pre class="highlight typescript tab-typescript"><code><span class="nx">neatoRobot</span><span class="p">.</span><span class="nx">start</span><span class="p">();</span>
<span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">neatoRobot</span><span class="p">.</span><span class="nx">stop</span><span class="p">();</span>
<span class="p">},</span> <span class="mi">30</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">10000</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">neatoRobot</span><span class="p">.</span><span class="nx">start</span><span class="p">();</span>
<span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">neatoRobot</span><span class="p">.</span><span class="nx">stop</span><span class="p">();</span>
<span class="p">},</span> <span class="mi">30</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">10000</span><span class="p">);</span>
</code></pre>

<aside class="notice">


StartStop represents a device that can be started, stopped, and possibly paused and resumed. Typically vacuum cleaners or washers.

</aside>
<h3 id='properties-18'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>running</td>
<td>boolean</td>
</tr>
</tbody></table>
<h3 id='start'>start</h3>
<p>Promise&lt;void&gt; start()</p>
<h3 id='stop'>stop</h3>
<p>Promise&lt;void&gt; stop()</p>
<h2 id='pause'>Pause</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">Pause</span>  <span class="p">{</span>
  <span class="nl">paused</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>

  <span class="nx">pause</span><span class="p">():</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">resume</span><span class="p">():</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">Pause</span>  <span class="p">{</span>
  <span class="nl">paused</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>

  <span class="nx">pause</span><span class="p">():</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">resume</span><span class="p">():</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><h3 id='properties-19'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>paused</td>
<td>boolean</td>
</tr>
</tbody></table>
<h3 id='pause-2'>pause</h3>
<p>Promise&lt;void&gt; pause()</p>
<h3 id='resume'>resume</h3>
<p>Promise&lt;void&gt; resume()</p>
<h2 id='dock'>Dock</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">Dock</span>  <span class="p">{</span>
  <span class="nl">docked</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>

  <span class="nx">dock</span><span class="p">():</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">Dock</span>  <span class="p">{</span>
  <span class="nl">docked</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>

  <span class="nx">dock</span><span class="p">():</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Example</p>
</blockquote>

<pre class="highlight typescript tab-typescript"><code><span class="c1">// tell the cleaning robot to dock</span>
<span class="nx">neatoRobot</span><span class="p">.</span><span class="nx">dock</span><span class="p">();</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="c1">// tell the cleaning robot to dock</span>
<span class="nx">neatoRobot</span><span class="p">.</span><span class="nx">dock</span><span class="p">();</span>
</code></pre>

<aside class="notice">


Dock instructs devices that have a base station or charger, to return to their home.

</aside>
<h3 id='properties-20'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>docked</td>
<td>boolean</td>
</tr>
</tbody></table>
<h3 id='dock-2'>dock</h3>
<p>Promise&lt;void&gt; dock()</p>
<h2 id='temperaturesetting'>TemperatureSetting</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">TemperatureSetting</span> <span class="k">implements</span> <span class="nx">Thermometer</span><span class="p">,</span> <span class="nx">HumiditySensor</span> <span class="p">{</span>
  <span class="nl">thermostatAvailableModes</span><span class="p">:</span> <span class="nx">ThermostatMode</span><span class="p">[];</span>
  <span class="nl">thermostatMode</span><span class="p">:</span> <span class="nx">ThermostatMode</span><span class="p">;</span>
  <span class="nl">thermostatSetpoint</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">thermostatSetpointHigh</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">thermostatSetpointLow</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>

  <span class="nx">setThermostatMode</span><span class="p">(</span><span class="nx">mode</span><span class="p">:</span> <span class="nx">ThermostatMode</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">setThermostatSetpoint</span><span class="p">(</span><span class="nx">degrees</span><span class="p">:</span> <span class="kr">number</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">setThermostatSetpointHigh</span><span class="p">(</span><span class="nx">high</span><span class="p">:</span> <span class="kr">number</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">setThermostatSetpointLow</span><span class="p">(</span><span class="nx">low</span><span class="p">:</span> <span class="kr">number</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">TemperatureSetting</span> <span class="kr">implements</span> <span class="nx">Thermometer</span><span class="p">,</span> <span class="nx">HumiditySensor</span> <span class="p">{</span>
  <span class="nl">thermostatAvailableModes</span><span class="p">:</span> <span class="nx">ThermostatMode</span><span class="p">[];</span>
  <span class="nl">thermostatMode</span><span class="p">:</span> <span class="nx">ThermostatMode</span><span class="p">;</span>
  <span class="nl">thermostatSetpoint</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
  <span class="nl">thermostatSetpointHigh</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
  <span class="nl">thermostatSetpointLow</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>

  <span class="nx">setThermostatMode</span><span class="p">(</span><span class="nx">mode</span><span class="p">:</span> <span class="nx">ThermostatMode</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">setThermostatSetpoint</span><span class="p">(</span><span class="nx">degrees</span><span class="p">:</span> <span class="nx">number</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">setThermostatSetpointHigh</span><span class="p">(</span><span class="nx">high</span><span class="p">:</span> <span class="nx">number</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">setThermostatSetpointLow</span><span class="p">(</span><span class="nx">low</span><span class="p">:</span> <span class="nx">number</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<aside class="notice">


TemperatureSetting represents a thermostat device.

</aside>
<h3 id='properties-21'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>thermostatAvailableModes</td>
<td><a href='#thermostatmode'>ThermostatMode</a>[]</td>
</tr>
<tr>
<td>thermostatMode</td>
<td><a href='#thermostatmode'>ThermostatMode</a></td>
</tr>
<tr>
<td>thermostatSetpoint</td>
<td>number</td>
</tr>
<tr>
<td>thermostatSetpointHigh</td>
<td>number</td>
</tr>
<tr>
<td>thermostatSetpointLow</td>
<td>number</td>
</tr>
</tbody></table>
<h3 id='setthermostatmode'>setThermostatMode</h3>
<p>Promise&lt;void&gt; setThermostatMode(<a href='#thermostatmode'>ThermostatMode</a> mode)</p>
<h3 id='setthermostatsetpoint'>setThermostatSetpoint</h3>
<p>Promise&lt;void&gt; setThermostatSetpoint(number degrees)</p>
<h3 id='setthermostatsetpointhigh'>setThermostatSetpointHigh</h3>
<p>Promise&lt;void&gt; setThermostatSetpointHigh(number high)</p>
<h3 id='setthermostatsetpointlow'>setThermostatSetpointLow</h3>
<p>Promise&lt;void&gt; setThermostatSetpointLow(number low)</p>
<h2 id='thermometer'>Thermometer</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">Thermometer</span>  <span class="p">{</span>
  <span class="nl">temperature</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">temperatureUnit</span><span class="p">:</span> <span class="nx">TemperatureUnit</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">Thermometer</span>  <span class="p">{</span>
  <span class="nl">temperature</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
  <span class="nl">temperatureUnit</span><span class="p">:</span> <span class="nx">TemperatureUnit</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><h3 id='properties-22'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>temperature</td>
<td>number</td>
</tr>
<tr>
<td>temperatureUnit</td>
<td><a href='#temperatureunit'>TemperatureUnit</a></td>
</tr>
</tbody></table>
<h2 id='temperatureunit'>TemperatureUnit</h2><pre class="highlight typescript tab-typescript"><code><span class="kr">enum</span> <span class="nx">TemperatureUnit</span> <span class="p">{</span>
  <span class="nx">C</span> <span class="o">=</span> <span class="s2">"C"</span><span class="p">,</span>
  <span class="nx">F</span> <span class="o">=</span> <span class="s2">"F"</span><span class="p">,</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">enum</span> <span class="nx">TemperatureUnit</span> <span class="p">{</span>
  <span class="nx">C</span> <span class="o">=</span> <span class="s2">"C"</span><span class="p">,</span>
  <span class="nx">F</span> <span class="o">=</span> <span class="s2">"F"</span><span class="p">,</span>
<span class="p">}</span>
</code></pre>
<aside class="notice">

Used by <a href='#thermometer'>Thermometer</a>.


</aside>

<table><thead>
<tr>
<th>Enum</th>
</tr>
</thead><tbody>
<tr>
<td>&quot;C&quot;</td>
</tr>
<tr>
<td>&quot;F&quot;</td>
</tr>
</tbody></table>
<h2 id='humiditysensor'>HumiditySensor</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">HumiditySensor</span>  <span class="p">{</span>
  <span class="nl">humidity</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">HumiditySensor</span>  <span class="p">{</span>
  <span class="nl">humidity</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><h3 id='properties-23'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>humidity</td>
<td>number</td>
</tr>
</tbody></table>
<h2 id='thermostatmode'>ThermostatMode</h2><pre class="highlight typescript tab-typescript"><code><span class="kr">enum</span> <span class="nx">ThermostatMode</span> <span class="p">{</span>
  <span class="nx">Off</span> <span class="o">=</span> <span class="s2">"Off"</span><span class="p">,</span>
  <span class="nx">Cool</span> <span class="o">=</span> <span class="s2">"Cool"</span><span class="p">,</span>
  <span class="nx">Heat</span> <span class="o">=</span> <span class="s2">"Heat"</span><span class="p">,</span>
  <span class="nx">HeatCool</span> <span class="o">=</span> <span class="s2">"HeatCool"</span><span class="p">,</span>
  <span class="nx">Auto</span> <span class="o">=</span> <span class="s2">"Auto"</span><span class="p">,</span>
  <span class="nx">FanOnly</span> <span class="o">=</span> <span class="s2">"FanOnly"</span><span class="p">,</span>
  <span class="nx">Purifier</span> <span class="o">=</span> <span class="s2">"Purifier"</span><span class="p">,</span>
  <span class="nx">Eco</span> <span class="o">=</span> <span class="s2">"Eco"</span><span class="p">,</span>
  <span class="nx">Dry</span> <span class="o">=</span> <span class="s2">"Dry"</span><span class="p">,</span>
  <span class="nx">On</span> <span class="o">=</span> <span class="s2">"On"</span><span class="p">,</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">enum</span> <span class="nx">ThermostatMode</span> <span class="p">{</span>
  <span class="nx">Off</span> <span class="o">=</span> <span class="s2">"Off"</span><span class="p">,</span>
  <span class="nx">Cool</span> <span class="o">=</span> <span class="s2">"Cool"</span><span class="p">,</span>
  <span class="nx">Heat</span> <span class="o">=</span> <span class="s2">"Heat"</span><span class="p">,</span>
  <span class="nx">HeatCool</span> <span class="o">=</span> <span class="s2">"HeatCool"</span><span class="p">,</span>
  <span class="nx">Auto</span> <span class="o">=</span> <span class="s2">"Auto"</span><span class="p">,</span>
  <span class="nx">FanOnly</span> <span class="o">=</span> <span class="s2">"FanOnly"</span><span class="p">,</span>
  <span class="nx">Purifier</span> <span class="o">=</span> <span class="s2">"Purifier"</span><span class="p">,</span>
  <span class="nx">Eco</span> <span class="o">=</span> <span class="s2">"Eco"</span><span class="p">,</span>
  <span class="nx">Dry</span> <span class="o">=</span> <span class="s2">"Dry"</span><span class="p">,</span>
  <span class="nx">On</span> <span class="o">=</span> <span class="s2">"On"</span><span class="p">,</span>
<span class="p">}</span>
</code></pre>
<aside class="notice">

Used by <a href='#temperaturesetting'>TemperatureSetting</a>.


</aside>

<table><thead>
<tr>
<th>Enum</th>
</tr>
</thead><tbody>
<tr>
<td>&quot;Off&quot;</td>
</tr>
<tr>
<td>&quot;Cool&quot;</td>
</tr>
<tr>
<td>&quot;Heat&quot;</td>
</tr>
<tr>
<td>&quot;HeatCool&quot;</td>
</tr>
<tr>
<td>&quot;Auto&quot;</td>
</tr>
<tr>
<td>&quot;FanOnly&quot;</td>
</tr>
<tr>
<td>&quot;Purifier&quot;</td>
</tr>
<tr>
<td>&quot;Eco&quot;</td>
</tr>
<tr>
<td>&quot;Dry&quot;</td>
</tr>
<tr>
<td>&quot;On&quot;</td>
</tr>
</tbody></table>
<h2 id='camera'>Camera</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">Camera</span>  <span class="p">{</span>
  <span class="nx">takePicture</span><span class="p">():</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">MediaObject</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">Camera</span>  <span class="p">{</span>
  <span class="nx">takePicture</span><span class="p">():</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">MediaObject</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<aside class="notice">


Camera devices can take still photos.

</aside>
<h3 id='takepicture'>takePicture</h3>
<p>Promise&lt;<a href='#mediaobject'>MediaObject</a>&gt; takePicture()</p>
<h2 id='videocamera'>VideoCamera</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">VideoCamera</span>  <span class="p">{</span>
  <span class="nx">getVideoStream</span><span class="p">():</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">MediaObject</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">VideoCamera</span>  <span class="p">{</span>
  <span class="nx">getVideoStream</span><span class="p">():</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">MediaObject</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<aside class="notice">


VideoCamera devices can capture video streams.

</aside>
<h3 id='getvideostream'>getVideoStream</h3>
<p>Promise&lt;<a href='#mediaobject'>MediaObject</a>&gt; getVideoStream()</p>
<h2 id='lock'>Lock</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">Lock</span>  <span class="p">{</span>
  <span class="nl">lockState</span><span class="p">:</span> <span class="nx">LockState</span><span class="p">;</span>

  <span class="nx">lock</span><span class="p">():</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">unlock</span><span class="p">():</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">Lock</span>  <span class="p">{</span>
  <span class="nl">lockState</span><span class="p">:</span> <span class="nx">LockState</span><span class="p">;</span>

  <span class="nx">lock</span><span class="p">():</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">unlock</span><span class="p">():</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<aside class="notice">


Lock controls devices that can lock or unlock entries. Often works in tandem with PasswordControl.

</aside>
<h3 id='properties-24'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>lockState</td>
<td><a href='#lockstate'>LockState</a></td>
</tr>
</tbody></table>
<h3 id='lock-2'>lock</h3>
<p>Promise&lt;void&gt; lock()</p>
<h3 id='unlock'>unlock</h3>
<p>Promise&lt;void&gt; unlock()</p>
<h2 id='lockstate'>LockState</h2><pre class="highlight typescript tab-typescript"><code><span class="kr">enum</span> <span class="nx">LockState</span> <span class="p">{</span>
  <span class="nx">Locked</span> <span class="o">=</span> <span class="s2">"Locked"</span><span class="p">,</span>
  <span class="nx">Unlocked</span> <span class="o">=</span> <span class="s2">"Unlocked"</span><span class="p">,</span>
  <span class="nx">Jammed</span> <span class="o">=</span> <span class="s2">"Jammed"</span><span class="p">,</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">enum</span> <span class="nx">LockState</span> <span class="p">{</span>
  <span class="nx">Locked</span> <span class="o">=</span> <span class="s2">"Locked"</span><span class="p">,</span>
  <span class="nx">Unlocked</span> <span class="o">=</span> <span class="s2">"Unlocked"</span><span class="p">,</span>
  <span class="nx">Jammed</span> <span class="o">=</span> <span class="s2">"Jammed"</span><span class="p">,</span>
<span class="p">}</span>
</code></pre>
<aside class="notice">

Used by <a href='#lock'>Lock</a>.


</aside>

<table><thead>
<tr>
<th>Enum</th>
</tr>
</thead><tbody>
<tr>
<td>&quot;Locked&quot;</td>
</tr>
<tr>
<td>&quot;Unlocked&quot;</td>
</tr>
<tr>
<td>&quot;Jammed&quot;</td>
</tr>
</tbody></table>
<h2 id='passwordstore'>PasswordStore</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">PasswordStore</span> <span class="k">implements</span> <span class="nx">Authenticator</span> <span class="p">{</span>
  <span class="nx">addPassword</span><span class="p">(</span><span class="nx">password</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">getPasswords</span><span class="p">():</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="kr">string</span><span class="p">[]</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">removePassword</span><span class="p">(</span><span class="nx">password</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">PasswordStore</span> <span class="kr">implements</span> <span class="nx">Authenticator</span> <span class="p">{</span>
  <span class="nx">addPassword</span><span class="p">(</span><span class="nx">password</span><span class="p">:</span> <span class="nx">string</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">getPasswords</span><span class="p">():</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">string</span><span class="p">[]</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">removePassword</span><span class="p">(</span><span class="nx">password</span><span class="p">:</span> <span class="nx">string</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<aside class="notice">


PasswordControl represents devices that authorize users via a passcode or pin code.

</aside>
<h3 id='addpassword'>addPassword</h3>
<p>Promise&lt;void&gt; addPassword(string password)</p>
<h3 id='getpasswords'>getPasswords</h3>
<p>Promise&lt;string[]&gt; getPasswords()</p>
<h3 id='removepassword'>removePassword</h3>
<p>Promise&lt;void&gt; removePassword(string password)</p>
<h2 id='authenticator'>Authenticator</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">Authenticator</span>  <span class="p">{</span>
  <span class="nx">checkPassword</span><span class="p">(</span><span class="nx">password</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="kr">boolean</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">Authenticator</span>  <span class="p">{</span>
  <span class="nx">checkPassword</span><span class="p">(</span><span class="nx">password</span><span class="p">:</span> <span class="nx">string</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="kr">boolean</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<aside class="notice">


Authenticator can be used to require a password before allowing interaction with a security device.

</aside>
<h3 id='checkpassword'>checkPassword</h3>
<p>Promise&lt;boolean&gt; checkPassword(string password)</p>
<h2 id='scene'>Scene</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">Scene</span>  <span class="p">{</span>
  <span class="nx">activate</span><span class="p">():</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">deactivate</span><span class="p">():</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">isReversible</span><span class="p">():</span> <span class="kr">boolean</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">Scene</span>  <span class="p">{</span>
  <span class="nx">activate</span><span class="p">():</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">deactivate</span><span class="p">():</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">isReversible</span><span class="p">():</span> <span class="kr">boolean</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<aside class="notice">


Scenes control multiple different devices into a given state.

</aside>
<h3 id='activate'>activate</h3>
<p>Promise&lt;void&gt; activate()</p>
<h3 id='deactivate'>deactivate</h3>
<p>Promise&lt;void&gt; deactivate()</p>
<h3 id='isreversible'>isReversible</h3>
<p>boolean isReversible()</p>

<p>If a scene can be reversed, isReversible should return true. Otherwise deactivate will not be called.</p>
<h2 id='entry'>Entry</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">Entry</span> <span class="k">implements</span> <span class="nx">EntrySensor</span> <span class="p">{</span>
  <span class="nx">closeEntry</span><span class="p">():</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">openEntry</span><span class="p">():</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">Entry</span> <span class="kr">implements</span> <span class="nx">EntrySensor</span> <span class="p">{</span>
  <span class="nx">closeEntry</span><span class="p">():</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">openEntry</span><span class="p">():</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Example</p>
</blockquote>

<pre class="highlight typescript tab-typescript"><code><span class="c1">// open the garage door</span>
<span class="nx">garageDoor</span><span class="p">.</span><span class="nx">openEntry</span><span class="p">();</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="c1">// open the garage door</span>
<span class="nx">garageDoor</span><span class="p">.</span><span class="nx">openEntry</span><span class="p">();</span>
</code></pre>

<aside class="notice">


Entry represents devices that can open and close barriers, such as garage doors.

</aside>
<h3 id='closeentry'>closeEntry</h3>
<p>Promise&lt;void&gt; closeEntry()</p>
<h3 id='openentry'>openEntry</h3>
<p>Promise&lt;void&gt; openEntry()</p>
<h2 id='entrysensor'>EntrySensor</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">EntrySensor</span>  <span class="p">{</span>
  <span class="nl">entryOpen</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">EntrySensor</span>  <span class="p">{</span>
  <span class="nl">entryOpen</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><h3 id='properties-25'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>entryOpen</td>
<td>boolean</td>
</tr>
</tbody></table>
<h2 id='battery'>Battery</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">Battery</span>  <span class="p">{</span>
  <span class="nl">batteryLevel</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">Battery</span>  <span class="p">{</span>
  <span class="nl">batteryLevel</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<aside class="notice">


Battery retrieves the battery level of battery powered devices.

</aside>
<h3 id='properties-26'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>batteryLevel</td>
<td>number</td>
</tr>
</tbody></table>
<h2 id='mediaplayer'>MediaPlayer</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">MediaPlayer</span> <span class="k">implements</span> <span class="nx">StartStop</span><span class="p">,</span> <span class="nx">Pause</span> <span class="p">{</span>
  <span class="nx">getMediaStatus</span><span class="p">():</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">MediaStatus</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">load</span><span class="p">(</span><span class="nx">media</span><span class="p">:</span> <span class="kr">string</span><span class="o">|</span><span class="nx">MediaObject</span><span class="p">,</span> <span class="nx">options</span><span class="p">:</span> <span class="nx">MediaPlayerOptions</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">seek</span><span class="p">(</span><span class="nx">milliseconds</span><span class="p">:</span> <span class="kr">number</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">skipNext</span><span class="p">():</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">skipPrevious</span><span class="p">():</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">MediaPlayer</span> <span class="kr">implements</span> <span class="nx">StartStop</span><span class="p">,</span> <span class="nx">Pause</span> <span class="p">{</span>
  <span class="nx">getMediaStatus</span><span class="p">():</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">MediaStatus</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">load</span><span class="p">(</span><span class="nx">media</span><span class="p">:</span> <span class="nx">string</span><span class="o">|</span><span class="nx">MediaObject</span><span class="p">,</span> <span class="nx">options</span><span class="p">:</span> <span class="nx">MediaPlayerOptions</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">seek</span><span class="p">(</span><span class="nx">milliseconds</span><span class="p">:</span> <span class="nx">number</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">skipNext</span><span class="p">():</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">skipPrevious</span><span class="p">():</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<aside class="notice">


MediaPlayer allows media playback on screen or speaker devices, such as Chromecasts or TVs.

</aside>
<h3 id='getmediastatus'>getMediaStatus</h3>
<p>Promise&lt;<a href='#mediastatus'>MediaStatus</a>&gt; getMediaStatus()</p>
<h3 id='load'>load</h3>
<p>Promise&lt;void&gt; load(string|<a href='#mediaobject'>MediaObject</a> media, <a href='#mediaplayeroptions'>MediaPlayerOptions</a> options)</p>
<h3 id='seek'>seek</h3>
<p>Promise&lt;void&gt; seek(number milliseconds)</p>
<h3 id='skipnext'>skipNext</h3>
<p>Promise&lt;void&gt; skipNext()</p>
<h3 id='skipprevious'>skipPrevious</h3>
<p>Promise&lt;void&gt; skipPrevious()</p>
<h2 id='mediaplayeroptions'>MediaPlayerOptions</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">MediaPlayerOptions</span>  <span class="p">{</span>
  <span class="nl">autoplay</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
  <span class="nl">mimeType</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">title</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">MediaPlayerOptions</span>  <span class="p">{</span>
  <span class="nl">autoplay</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
  <span class="nl">mimeType</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nl">title</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<aside class="notice">

Used by <a href='#mediaplayer'>MediaPlayer</a>.


</aside>
<h3 id='properties-27'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>autoplay</td>
<td>boolean</td>
</tr>
<tr>
<td>mimeType</td>
<td>string</td>
</tr>
<tr>
<td>title</td>
<td>string</td>
</tr>
</tbody></table>
<h2 id='online'>Online</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">Online</span>  <span class="p">{</span>
  <span class="nl">online</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">Online</span>  <span class="p">{</span>
  <span class="nl">online</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<aside class="notice">


Online denotes whether the device is online or unresponsive. It may be unresponsive due to being unplugged, network error, etc.

</aside>
<h3 id='properties-28'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>online</td>
<td>boolean</td>
</tr>
</tbody></table>
<h2 id='program'>Program</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">Program</span>  <span class="p">{</span>
  <span class="nx">run</span><span class="p">(</span><span class="nx">args</span><span class="p">:</span> <span class="kr">any</span><span class="p">[]):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="kr">any</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">Program</span>  <span class="p">{</span>
  <span class="nx">run</span><span class="p">(</span><span class="nx">args</span><span class="p">:</span> <span class="nx">any</span><span class="p">[]):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">any</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><h3 id='run'>run</h3>
<p>Promise&lt;any&gt; run(any[] args)</p>

<p>Asynchronously run a script given the provided arguments.</p>
<h2 id='softwareupdate'>SoftwareUpdate</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">SoftwareUpdate</span>  <span class="p">{</span>
  <span class="nl">updateAvailable</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>

  <span class="nx">checkForUpdate</span><span class="p">():</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">installUpdate</span><span class="p">():</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">SoftwareUpdate</span>  <span class="p">{</span>
  <span class="nl">updateAvailable</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>

  <span class="nx">checkForUpdate</span><span class="p">():</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">installUpdate</span><span class="p">():</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<aside class="notice">


SoftwareUpdate provides a way to check for updates and install them. This may be a Scrypted Plugin or device firmware.

</aside>
<h3 id='properties-29'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>updateAvailable</td>
<td>boolean</td>
</tr>
</tbody></table>
<h3 id='checkforupdate'>checkForUpdate</h3>
<p>Promise&lt;void&gt; checkForUpdate()</p>
<h3 id='installupdate'>installUpdate</h3>
<p>Promise&lt;void&gt; installUpdate()</p>
<h2 id='bufferconverter'>BufferConverter</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">BufferConverter</span>  <span class="p">{</span>
  <span class="nl">fromMimeType</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">toMimeType</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>

  <span class="nx">convert</span><span class="p">(</span><span class="nx">data</span><span class="p">:</span> <span class="kr">string</span><span class="o">|</span><span class="nx">Buffer</span><span class="p">,</span> <span class="nx">fromMimeType</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">Buffer</span><span class="o">|</span><span class="kr">string</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">BufferConverter</span>  <span class="p">{</span>
  <span class="nl">fromMimeType</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nl">toMimeType</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>

  <span class="nx">convert</span><span class="p">(</span><span class="nx">data</span><span class="p">:</span> <span class="nx">string</span><span class="o">|</span><span class="nx">Buffer</span><span class="p">,</span> <span class="nx">fromMimeType</span><span class="p">:</span> <span class="nx">string</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">Buffer</span><span class="o">|</span><span class="nx">string</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<aside class="notice">


Add a converter to be used by Scrypted to convert buffers from one mime type to another mime type. May optionally accept string urls if accept-url is a fromMimeType parameter.

</aside>
<h3 id='properties-30'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>fromMimeType</td>
<td>string</td>
</tr>
<tr>
<td>toMimeType</td>
<td>string</td>
</tr>
</tbody></table>
<h3 id='convert'>convert</h3>
<p>Promise&lt;Buffer|string&gt; convert(string|Buffer data, string fromMimeType)</p>
<h2 id='settings'>Settings</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">Settings</span>  <span class="p">{</span>
  <span class="nx">getSettings</span><span class="p">():</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">Setting</span><span class="p">[]</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">putSetting</span><span class="p">(</span><span class="nx">key</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="nx">value</span><span class="p">:</span> <span class="kr">boolean</span><span class="o">|</span><span class="kr">number</span><span class="o">|</span><span class="kr">string</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">Settings</span>  <span class="p">{</span>
  <span class="nx">getSettings</span><span class="p">():</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">Setting</span><span class="p">[]</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">putSetting</span><span class="p">(</span><span class="nx">key</span><span class="p">:</span> <span class="nx">string</span><span class="p">,</span> <span class="nx">value</span><span class="p">:</span> <span class="kr">boolean</span><span class="o">|</span><span class="nx">number</span><span class="o">|</span><span class="nx">string</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<aside class="notice">


Settings viewing and editing of device configurations that describe or modify behavior.

</aside>
<h3 id='getsettings'>getSettings</h3>
<p>Promise&lt;<a href='#setting'>Setting</a>[]&gt; getSettings()</p>
<h3 id='putsetting'>putSetting</h3>
<p>Promise&lt;void&gt; putSetting(string key, boolean|number|string value)</p>
<h2 id='binarysensor'>BinarySensor</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">BinarySensor</span>  <span class="p">{</span>
  <span class="nl">binaryState</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">BinarySensor</span>  <span class="p">{</span>
  <span class="nl">binaryState</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><h3 id='properties-31'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>binaryState</td>
<td>boolean</td>
</tr>
</tbody></table>
<h2 id='intrusionsensor'>IntrusionSensor</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">IntrusionSensor</span>  <span class="p">{</span>
  <span class="nl">intrusionDetected</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">IntrusionSensor</span>  <span class="p">{</span>
  <span class="nl">intrusionDetected</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><h3 id='properties-32'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>intrusionDetected</td>
<td>boolean</td>
</tr>
</tbody></table>
<h2 id='powersensor'>PowerSensor</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">PowerSensor</span>  <span class="p">{</span>
  <span class="nl">powerDetected</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">PowerSensor</span>  <span class="p">{</span>
  <span class="nl">powerDetected</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><h3 id='properties-33'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>powerDetected</td>
<td>boolean</td>
</tr>
</tbody></table>
<h2 id='audiosensor'>AudioSensor</h2><h2 id='motionsensor'>MotionSensor</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">MotionSensor</span>  <span class="p">{</span>
  <span class="nl">motionDetected</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">MotionSensor</span>  <span class="p">{</span>
  <span class="nl">motionDetected</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><h3 id='properties-34'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>motionDetected</td>
<td>boolean</td>
</tr>
</tbody></table>
<h2 id='occupancysensor'>OccupancySensor</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">OccupancySensor</span>  <span class="p">{</span>
  <span class="nl">occupied</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">OccupancySensor</span>  <span class="p">{</span>
  <span class="nl">occupied</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><h3 id='properties-35'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>occupied</td>
<td>boolean</td>
</tr>
</tbody></table>
<h2 id='floodsensor'>FloodSensor</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">FloodSensor</span>  <span class="p">{</span>
  <span class="nl">flooded</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">FloodSensor</span>  <span class="p">{</span>
  <span class="nl">flooded</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><h3 id='properties-36'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>flooded</td>
<td>boolean</td>
</tr>
</tbody></table>
<h2 id='ultravioletsensor'>UltravioletSensor</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">UltravioletSensor</span>  <span class="p">{</span>
  <span class="nl">ultraviolet</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">UltravioletSensor</span>  <span class="p">{</span>
  <span class="nl">ultraviolet</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><h3 id='properties-37'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>ultraviolet</td>
<td>number</td>
</tr>
</tbody></table>
<h2 id='luminancesensor'>LuminanceSensor</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">LuminanceSensor</span>  <span class="p">{</span>
  <span class="nl">luminance</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">LuminanceSensor</span>  <span class="p">{</span>
  <span class="nl">luminance</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><h3 id='properties-38'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>luminance</td>
<td>number</td>
</tr>
</tbody></table>
<h2 id='positionsensor'>PositionSensor</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">PositionSensor</span>  <span class="p">{</span>
  <span class="nl">position</span><span class="p">:</span> <span class="nx">Position</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">PositionSensor</span>  <span class="p">{</span>
  <span class="nl">position</span><span class="p">:</span> <span class="nx">Position</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><h3 id='properties-39'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>position</td>
<td><a href='#position'>Position</a></td>
</tr>
</tbody></table>
<h2 id='position'>Position</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">Position</span>  <span class="p">{</span>
  <span class="nl">accuracyRadius</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">latitude</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">longitude</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">Position</span>  <span class="p">{</span>
  <span class="nl">accuracyRadius</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
  <span class="nl">latitude</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
  <span class="nl">longitude</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<aside class="notice">

Used by <a href='#positionsensor'>PositionSensor</a>.


</aside>
<h3 id='properties-40'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>accuracyRadius</td>
<td>number</td>
</tr>
<tr>
<td>latitude</td>
<td>number</td>
</tr>
<tr>
<td>longitude</td>
<td>number</td>
</tr>
</tbody></table>
<h2 id='mediasource'>MediaSource</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">MediaSource</span>  <span class="p">{</span>
  <span class="nx">getMedia</span><span class="p">():</span> <span class="nx">MediaObject</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">MediaSource</span>  <span class="p">{</span>
  <span class="nx">getMedia</span><span class="p">():</span> <span class="nx">MediaObject</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><h3 id='getmedia'>getMedia</h3>
<p><a href='#mediaobject'>MediaObject</a> getMedia()</p>

<p>Get a MediaObject that will be automatically converted for playback on other devices.</p>
<h2 id='messagingendpoint'>MessagingEndpoint</h2><h2 id='oauthclient'>OauthClient</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">OauthClient</span>  <span class="p">{</span>
  <span class="nx">getOauthUrl</span><span class="p">():</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="kr">string</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">onOauthCallback</span><span class="p">(</span><span class="nx">callbackUrl</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">OauthClient</span>  <span class="p">{</span>
  <span class="nx">getOauthUrl</span><span class="p">():</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">string</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">onOauthCallback</span><span class="p">(</span><span class="nx">callbackUrl</span><span class="p">:</span> <span class="nx">string</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<aside class="notice">


The OauthClient can be implemented to perform the browser based Oauth process from within a plugin.

</aside>
<h3 id='getoauthurl'>getOauthUrl</h3>
<p>Promise&lt;string&gt; getOauthUrl()</p>

<p>Get the Oauth URL to navigate to in the browser. The redirect_uri parameter is not needed and will be automatically set by Scrypted.</p>
<h3 id='onoauthcallback'>onOauthCallback</h3>
<p>Promise&lt;void&gt; onOauthCallback(string callbackUrl)</p>

<p>When an oauth request by a plugin completes, the callback url, with the code/token, will be passed to this method.</p>
<h2 id='ffmpeginput'>FFMpegInput</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">FFMpegInput</span>  <span class="p">{</span>
  <span class="nl">inputArguments</span><span class="p">:</span> <span class="kr">string</span><span class="p">[];</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">FFMpegInput</span>  <span class="p">{</span>
  <span class="nl">inputArguments</span><span class="p">:</span> <span class="nx">string</span><span class="p">[];</span>
<span class="p">}</span>
</code></pre>
<aside class="notice">

Used by <a href='#mediamanager'>MediaManager</a>.


</aside>
<h3 id='properties-41'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>inputArguments</td>
<td>string[]</td>
</tr>
</tbody></table>
<h2 id='mixinprovider'>MixinProvider</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">MixinProvider</span>  <span class="p">{</span>
  <span class="nx">canMixin</span><span class="p">(</span><span class="kd">type</span><span class="p">:</span> <span class="nx">ScryptedDeviceType</span><span class="p">,</span> <span class="nx">interfaces</span><span class="p">:</span> <span class="kr">string</span><span class="p">[]):</span> <span class="kr">string</span><span class="p">[];</span>
  <span class="nx">getMixin</span><span class="p">(</span><span class="nx">device</span><span class="p">:</span> <span class="nx">ScryptedDevice</span><span class="p">,</span> <span class="nx">deviceState</span><span class="p">:</span> <span class="kr">any</span><span class="p">):</span> <span class="kr">any</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">MixinProvider</span>  <span class="p">{</span>
  <span class="nx">canMixin</span><span class="p">(</span><span class="nx">type</span><span class="p">:</span> <span class="nx">ScryptedDeviceType</span><span class="p">,</span> <span class="nx">interfaces</span><span class="p">:</span> <span class="nx">string</span><span class="p">[]):</span> <span class="nx">string</span><span class="p">[];</span>
  <span class="nx">getMixin</span><span class="p">(</span><span class="nx">device</span><span class="p">:</span> <span class="nx">ScryptedDevice</span><span class="p">,</span> <span class="nx">deviceState</span><span class="p">:</span> <span class="nx">any</span><span class="p">):</span> <span class="nx">any</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<aside class="notice">


MixinProviders can add and intercept interfaces to other devices to add or augment their behavior.

</aside>
<h3 id='canmixin'>canMixin</h3>
<p>string[] canMixin(ScryptedDeviceType type, string[] interfaces)</p>

<p>Called by the system to determine if this provider can create a mixin for the supplied device. Returns null if a mixin can not be created, otherwise returns a list of new interfaces (which may be an empty list) that are provided by the mixin.</p>
<h3 id='getmixin'>getMixin</h3>
<p>any getMixin(<a href='#scrypteddevice'>ScryptedDevice</a> device, any deviceState)</p>

<p>Create a mixin that can be applied to the supplied device.</p>
<h2 id='engineiohandler'>EngineIOHandler</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">EngineIOHandler</span>  <span class="p">{</span>
  <span class="nx">onConnection</span><span class="p">(</span><span class="nx">request</span><span class="p">:</span> <span class="nx">HttpRequest</span><span class="p">,</span> <span class="nx">webSocketUrl</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">EngineIOHandler</span>  <span class="p">{</span>
  <span class="nx">onConnection</span><span class="p">(</span><span class="nx">request</span><span class="p">:</span> <span class="nx">HttpRequest</span><span class="p">,</span> <span class="nx">webSocketUrl</span><span class="p">:</span> <span class="nx">string</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><h3 id='onconnection'>onConnection</h3>
<p>Promise&lt;void&gt; onConnection(<a href='#httprequest'>HttpRequest</a> request, string webSocketUrl)</p>
<h2 id='mediastatus'>MediaStatus</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">MediaStatus</span>  <span class="p">{</span>
  <span class="nl">duration</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">mediaPlayerState</span><span class="p">:</span> <span class="nx">MediaPlayerState</span><span class="p">;</span>
  <span class="nl">metadata</span><span class="p">:</span> <span class="kr">any</span><span class="p">;</span>
  <span class="nl">position</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">MediaStatus</span>  <span class="p">{</span>
  <span class="nl">duration</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
  <span class="nl">mediaPlayerState</span><span class="p">:</span> <span class="nx">MediaPlayerState</span><span class="p">;</span>
  <span class="nl">metadata</span><span class="p">:</span> <span class="nx">any</span><span class="p">;</span>
  <span class="nl">position</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><h3 id='properties-42'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>duration</td>
<td>number</td>
</tr>
<tr>
<td>mediaPlayerState</td>
<td><a href='#mediaplayerstate'>MediaPlayerState</a></td>
</tr>
<tr>
<td>metadata</td>
<td>any</td>
</tr>
<tr>
<td>position</td>
<td>number</td>
</tr>
</tbody></table>
<h2 id='mediaplayerstate'>MediaPlayerState</h2><pre class="highlight typescript tab-typescript"><code><span class="kr">enum</span> <span class="nx">MediaPlayerState</span> <span class="p">{</span>
  <span class="nx">Idle</span> <span class="o">=</span> <span class="s2">"Idle"</span><span class="p">,</span>
  <span class="nx">Playing</span> <span class="o">=</span> <span class="s2">"Playing"</span><span class="p">,</span>
  <span class="nx">Paused</span> <span class="o">=</span> <span class="s2">"Paused"</span><span class="p">,</span>
  <span class="nx">Buffering</span> <span class="o">=</span> <span class="s2">"Buffering"</span><span class="p">,</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">enum</span> <span class="nx">MediaPlayerState</span> <span class="p">{</span>
  <span class="nx">Idle</span> <span class="o">=</span> <span class="s2">"Idle"</span><span class="p">,</span>
  <span class="nx">Playing</span> <span class="o">=</span> <span class="s2">"Playing"</span><span class="p">,</span>
  <span class="nx">Paused</span> <span class="o">=</span> <span class="s2">"Paused"</span><span class="p">,</span>
  <span class="nx">Buffering</span> <span class="o">=</span> <span class="s2">"Buffering"</span><span class="p">,</span>
<span class="p">}</span>
</code></pre>
<aside class="notice">

Used by <a href='#mediastatus'>MediaStatus</a>.


</aside>

<table><thead>
<tr>
<th>Enum</th>
</tr>
</thead><tbody>
<tr>
<td>&quot;Idle&quot;</td>
</tr>
<tr>
<td>&quot;Playing&quot;</td>
</tr>
<tr>
<td>&quot;Paused&quot;</td>
</tr>
<tr>
<td>&quot;Buffering&quot;</td>
</tr>
</tbody></table>
<h2 id='setting'>Setting</h2>
<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight typescript tab-typescript"><code><span class="kr">interface</span> <span class="nx">Setting</span>  <span class="p">{</span>
  <span class="nl">choices</span><span class="p">:</span> <span class="kr">string</span><span class="p">[];</span>
  <span class="nl">description</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">key</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">placeholder</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">readonly</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
  <span class="nl">title</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">type</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">value</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">interface</span> <span class="nx">Setting</span>  <span class="p">{</span>
  <span class="nl">choices</span><span class="p">:</span> <span class="nx">string</span><span class="p">[];</span>
  <span class="nl">description</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nl">key</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nl">placeholder</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nl">readonly</span><span class="p">:</span> <span class="kr">boolean</span><span class="p">;</span>
  <span class="nl">title</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nl">type</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nl">value</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
<span class="p">}</span>
</code></pre><h3 id='properties-43'>Properties</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>choices</td>
<td>string[]</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
</tr>
<tr>
<td>key</td>
<td>string</td>
</tr>
<tr>
<td>placeholder</td>
<td>string</td>
</tr>
<tr>
<td>readonly</td>
<td>boolean</td>
</tr>
<tr>
<td>title</td>
<td>string</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
</tr>
</tbody></table>

<h1 id='sample-plugins'>Sample Plugins <br/></h1>

<p>All of the official Scrypted plugins are open source, and can be found on Github. The <a href="https://github.com/koush/scrypted-lifx">Lifx</a>
and <a href="https://github.com/koush/scrypted-owntracks">Owntracks</a> plugins are recommended starting points for learning how to create your own integrations.</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="typescript">typescript</a>
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
